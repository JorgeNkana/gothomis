<!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-->



</form>
<md-tabs md-dynamic-height md-border-bottom>
    <md-tab label="R&R" >
        <vertical-tabs>
            <vertical-tab-pane title="Create R&R">
                <div >

                    <select ng-model="program" class="md-block" ng-click="RnRSearch(program)"  >
                        <option selected disabled value="">Select Program</option>
                        <option  value="ILS">ILS</option>
                        <option  value="ARV">ARV</option>
                        <option  value="LAB">LAB</option>
                        <option  value="TB">TB</option>
                    </select>
                    <select ng-model="orderType" class="md-block" ng-change="RnROrderType(orderType)"  >
                        <option selected disabled value="">Select Order Type</option>
                        <option  value=false>Normal Order</option>
                        <option  value=true>Emergency</option>
                    </select>



                </div>

                <p></p>
                <div style="align-content: center" id="rnr_id" >

                    <div style="overflow-x:scroll; "  >

                        <table class="waffle" cellspacing="0" cellpadding="0" border="1">
                            <tbody>
                            <tr style='height:20px; background-color: silver'>

                                <td class="s0" dir="ltr" colspan="4">DAWA NA VIFAA TIBA</td>
                                <td class="s0" dir="ltr" colspan="6">TAARIFA</td>
                                <td class="s0" dir="ltr" colspan="3">MAOMBI</td>
                                <td class="s0" dir="ltr" colspan="7">KIASI NA GHARAMA</td>
                            </tr>

                            <tr style='height:20px;background-color: silver'>



                                <td class="s1 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 110px; left: -14px;">Skip</div></td>
                                <td class="s1 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 110px; left: -14px;">Namba Mpya ya MSD</div></td>
                                <td class="s2 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 99px; left: -3px;">Maelezo ya bidhaa</div></td>
                                <td class="s3" dir="ltr">Nguvu</td><td class="s3" dir="ltr">Kipimo cha ugavi</td>
                                <td class="s4" dir="ltr">Kiasi cha kuanzia</td>
                                <td class="s1 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 99px; left: -3px;">Kiasi kilichopokelewa</div></td>
                                <td class="s1 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 99px; left: -3px;">Upotevu au Marekebisho</div></td>
                                <td class="s2 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 99px; left: -3px;">Idadi ya siku ambazo dawa iliisha</div></td>
                                <td class="s4" dir="ltr">Salio la mwisho</td>
                                <td class="s2 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 99px; left: -3px;">Makadirio ya matumizi</div></td>
                                <td class="s3" dir="ltr"  >Kiasi cha juu kinachohitajika</td>
                                <td class="s1 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 107px; left: -11px;">Kiasi kinachohitajika</div></td>
                                <td class="s2 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 99px; left: -3px;">Kiasi cha kuagizwa</div></td>
                                <td class="s3" dir="ltr">Bei</td><td class="s4" dir="ltr">Gharama</td>
                                <td class="s1 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 99px; left: -3px;">Kiasi cha juu kinachohitajika baada ya marekebisho</div></td>
                                <td class="s1 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 99px; left: -3px;">Kiasi cha kinachohitajika baada ya marekebisho</div></td>
                                <td class="s1 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 200px; left: -3px;">Kiasi kilichoidhinishwa</div></td>
                                <td class="s1 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 200px; left: -3px;">Gharama iliyoidhinishwa</div></td>
                            </tr>
                            <tr style='height:20px; background-color: silver' >

                                <td class="s0"></td>
                                <td class="s0"></td>
                                <td class="s0"></td>
                                <td class="s0"></td>
                                <td class="s1" dir="ltr">(U)</td>
                                <td class="s1" dir="ltr">( A)</td>
                                <td class="s1" dir="ltr">(B)</td>
                                <td class="s1" dir="ltr">( C )</td>
                                <td class="s1" dir="ltr">(X)</td>
                                <td class="s1" dir="ltr">(D)</td>
                                <td class="s2" dir="ltr">[A+B C-D] ( E)</td>
                                <td class="s1" dir="ltr">[E*2] (Y)</td>
                                <td class="s1" dir="ltr">[Y-D] (F)</td>
                                <td class="s1" dir="ltr">F/U<br> (H)</td>
                                <td class="s1" dir="ltr">(I)</td>
                                <td class="s3" dir="ltr"></td>

                                <td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 99px; left: -3px;">[Y*90/(90-X]) (Z)</div></td>
                                <td class="s1" dir="ltr">[Z-D] (G)</td>
                                <td class="s1" dir="ltr">G/U<br> (K)</td>
                                <td class="s1" dir="ltr">[KxI]<br> (L)</td>
                            </tr>
                            <tr style='height:20px;' ng-repeat="rnr in rnrs |filter:search track by $index">

                                <td class="s6" dir="ltr" title="Skip">
                                    <input type="checkbox" id="_{{rnr.skiped.replace(regex,'_')}}"    aria-label=""  />

                                </td>
                                <td class="s6" dir="ltr">{{rnr.concept_code}}</td>
                                <td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width: 97px; left: -1px;">{{rnr.item_name}}</div></td>
                                <td class="s6" dir="ltr"> </td>
                                <td class="s6" dir="ltr">{{rnr.unit_of_measure | number : fractionSize}} </td>
                                <td class="s6">{{rnr.beginningBalance | number : fractionSize}}</td>
                                <td class="s6">{{rnr.quantityReceived | number : fractionSize}}</td>
                                <td class="s6">{{rnr.adjustment | number : fractionSize}}</td>
                                <td class="s7">{{rnr.stockOutDays}}</td>
                                <td class="s6">{{rnr.stockInHand | number : fractionSize}}</td>
                                <td class="s7">{{rnr.Makadirioyamatumizi_E |number : fractionSize}}</td>
                                <td class="s7">{{rnr.Kiasichajuukinachohitajika_Y |number : fractionSize}}</td>
                                <td class="s7">{{rnr.Kiasikinachohitajika_F |number : fractionSize}}</td>
                                <td class="s6">{{ rnr.boxes_H | number : fractionSize}} </td>
                                <td class="s8" dir="ltr">
                                    {{rnr.product_price_I | currency : ''}}
                                    <input type="text"   id="{{rnr.item_code.replace(regex, '_')}}" class="md-block" placeholder="Kiasi cha kuagizwa"  title="Kiasi cha kuagizwa" onkeyup="money(this, event)"/>
                                    <input type="text"   id="status_{{rnr.item_code.replace(regex, '_')}}" class="hidden" value="active" />
                                </td>
                                <td class="s8" dir="ltr">
                                    {{rnr.cost_J | currency : ''}}
                                    <textarea type="text"   id="{{rnr.item_id.replace(regex, '_')}}" class="md-block"  title="Sababu za  kuagizwa" placeholder="Andika Sababu za  kuagizwa" ></textarea>
                                    <textarea type="text"   id="status_{{rnr.item_id.replace(regex, '_')}}" class="hidden" value="active" ></textarea>

                                </td>
                                <td class="s7">{{rnr.Kiasichajuukinachohitajikabaadayamarekebisho_Z | number : fractionSize}}</td>
                                <td class="s9">{{rnr.Kiasichakinachohitajikabaadayamarekebisho_G | number : fractionSize}}</td>
                                <td class="s9">{{rnr.Kiasikilichoidhinishwa_K | number : fractionSize}}</td>
                                <td class="s9">{{rnr.Gharamailiyoidhinishwa_L |currency : ''}}</td>


                            </tr>

                            <tr ng-if="rnrs.length>0" class="no-print">
                                <th colspan="11">  <md-button   class="md-button md-raised md-primary" ng-click="preparernr('PREPARED',program)" title="Print"  >Save </md-button>
                                    <md-button   class="md-button md-raised md-primary" ng-click="preparernr('INITIATED',program)" title="Print"  >Initiate  Process</md-button></th>
                                <th colspan="9"></th>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>


            </vertical-tab-pane>
            <vertical-tab-pane title=" R&R Orders ({{rnrOrderNumbers.length}})" >
                <hr>
                <button ng-click="LoadrnrSavedOrder_numbers()" class="pull-right">Load data</button>
                <hr>
                <md-input-container class="md-block ">
                    <label>Choose Order Number To load Order Items</label>
                    <md-select ng-model='rnr_number' ng-change="rnrSavedOrder(rnr_number)" required="">

                        <md-option ng-value="rnrOrderNumber.order_number" ng-repeat="rnrOrderNumber in rnrOrderNumbers track by $index" >({{$index +1}} ): {{ rnrOrderNumber.order_number}} &nbsp; On &nbsp; {{ rnrOrderNumber.preparedDate}} </md-option>
                    </md-select>
                </md-input-container>
                <hr>

                <center ng-click="LoadrnrSavedOrder_numbers()" title="click to load data if is available">    <button ng-if="rnrSavedOrders.length<1" > No RnR Order in a Queue</button>

                </center>

                <div id="rnr_order_id" style="overflow-x:scroll; align-content: center"  ng-if="rnrSavedOrders.length>0">
                    <input type="text"   ng-model="search" placeholder="Filter">
                    <button ng-click="PrintRnRSaved()" title="Print" ng-if="rnrSavedOrders.length>0"  ng-if="rnrSavedOrders.length>0">Print</button>

                    <button export-to-csv>Export</button>
                    <table border="1" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">
                        <caption style="background-color:beige;text-align: center">

                            Program   : &nbsp;<b> {{rnrSavedOrders[0].programCode }} </b> &nbsp; &nbsp;     OrderNo: &nbsp;  <b> {{rnrSavedOrders[0].order_number}}</b>  &nbsp;&nbsp;
                            Full Supply   : &nbsp;<b ng-if="rnrSavedOrders[0].fullSupply==1">YES</b><b ng-if="rnrSavedOrders[0].fullSupply==0">NO</b>   &nbsp; &nbsp;     Emergency &nbsp;    <b ng-if="rnrSavedOrders[0].emergency==1">YES</b><b ng-if="rnrSavedOrders[0].emergency==0">NO</b>   &nbsp;&nbsp;
                            Order Status   : &nbsp;<b>{{rnrSavedOrders[0].order_status}} </b>  &nbsp; &nbsp; Due Date  : &nbsp;<b>{{rnrSavedOrders[0].preparedDate}} </b>  &nbsp; &nbsp;       &nbsp;&nbsp;

                        </caption>

                        <tr style="background-color: silver" >

                            <th class="mdl-data-table__cell--non-numeric">s/n</th>
                            <th class="mdl-data-table__cell--non-numeric">ItemCode</th>
                            <th class="mdl-data-table__cell--non-numeric">ItemName</th>
                            <th class="mdl-data-table__cell--non-numeric">KiasiChaKuanzia</th>
                            <th class="mdl-data-table__cell--non-numeric">KiasiKilichopokelewa</th>
                            <th class="mdl-data-table__cell--non-numeric">Upotevu/Marekebisho</th>
                            <th class="mdl-data-table__cell--non-numeric">KiasiKilichoTumika</th>
                            <th class="mdl-data-table__cell--non-numeric">IdadiYaSikuAmbazoDawaIliisha</th>
                            <th class="mdl-data-table__cell--non-numeric">SalioLaMwisho</th>
                            <th class="mdl-data-table__cell--non-numeric">KiasiChaJuuKinachohitajika</th>
                            <th class="mdl-data-table__cell--non-numeric">KiasiChaKuagizwa</th>
                            <th class="mdl-data-table__cell--non-numeric">Sababu</th>
                            <th class="mdl-data-table__cell--non-numeric"></th>
                        </tr>
                        <tr ng-repeat="rnrSavedOrder in rnrSavedOrders |filter:search track by $index">
                            <td class="mdl-data-table__cell--non-numeric">{{$index +1}}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{rnrSavedOrder.item_code}}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{rnrSavedOrder.item_name}}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{rnrSavedOrder.beginningBalance | number : fractionSize}}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{rnrSavedOrder.quantityReceived | number : fractionSize}}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{rnrSavedOrder.adjustment | number : fractionSize}}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{rnrSavedOrder.quantityDispensed | number : fractionSize}}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{rnrSavedOrder.stockOutDays | number : fractionSize}}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{rnrSavedOrder.stockInHand | number : fractionSize}}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{rnrSavedOrder.amountNeeded | number : fractionSize}}</td>
                            <td class="mdl-data-table__cell--non-numeric">
                                <input ng-if="edit" type="text" placeholder="{{rnrSavedOrder.quantityRequested}}" ng-model="rnrSavedOrder.FinalamountNeeded" ng-keyup="UpdateRnrOrderRowData('amount',rnrSavedOrder)">
                                <b ng-if="!edit">  {{rnrSavedOrder.quantityRequested | number : fractionSize}}</b></td>
                            <td class="mdl-data-table__cell--non-numeric">
                                <textarea ng-if="edit"   placeholder="{{rnrSavedOrder.reasonForRequestedQuantity ? rnrSavedOrder.reasonForRequestedQuantity :'reasons' }}" ng-model="rnrSavedOrder.FinalreasonForRequestedQuantity" ng-keyup="UpdateRnrOrderRowData('reason',rnrSavedOrder)"></textarea>
                                <b  ng-if="!edit">   {{rnrSavedOrder.reasonForRequestedQuantity }}</b></td>
                            <td class="mdl-data-table__cell--non-numeric">

                                <md-checkbox ng-model="edit" aria-label=""  >
                                    Edit
                                </md-checkbox>

                                ||
                                <md-button class="md-raised " ng-click="DeleteItemOrderRow(rnrSavedOrder)">  Remove</md-button>

                            </td>
                        </tr>
                        <tr ng-if="rnrSavedOrders.length>0" class="no-print">

                            <th colspan="6">
                                <md-button    class="md-button md-raised md-primary" ng-click="submitRnR(rnrSavedOrders[0].order_number)"    >SUBMIT RnR </md-button>
                                <md-button ng-if="rnrSavedOrders[0].order_status !='INITIATED'"  class="md-button md-raised md-primary" ng-click="Updatepreparedrnr('PREPARED',rnrSavedOrders[0].order_number)"    >UPDATE </md-button>
                                <md-button ng-if="rnrSavedOrders[0].order_status !='INITIATED'"  class="md-button md-raised md-primary" ng-click="Initiatepreparedrnr('INITIATED',rnrSavedOrders[0].order_number)"   >Initiate  Process</md-button>
                                <md-button   class="md-button md-raised mdl-button--mini-icon" ng-click="cancelpreparedrnr(rnrSavedOrders[0].order_number)"    >Cancel</md-button>
                                <md-button   class="md-button md-raised mdl-button--accent" ng-click="Deletepreparedrnr(rnrSavedOrders[0].order_number)"   >Delete</md-button></th>
                            <th colspan="6"></th>
                        </tr>
                    </table>
                </div>
            </vertical-tab-pane>
            <vertical-tab-pane title="R&R ORDER STATUS" >
                <button ng-click="LoadRnROrderStatus()" class="pull-right">Load data</button>

                <p></p>
                <table border="1" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">
                    <tr style="background-color: silver" >

                        <th class="mdl-data-table__cell--non-numeric">s/n</th>
                        <th class="mdl-data-table__cell--non-numeric">PERIOD</th>
                        <th class="mdl-data-table__cell--non-numeric">IN PREPARATION</th>
                        <th class="mdl-data-table__cell--non-numeric">IN PROGRESS(Initiated)</th>
                        <th class="mdl-data-table__cell--non-numeric">PROCESSED</th>
                        <th class="mdl-data-table__cell--non-numeric">CANCELLED</th>


                    </tr>
                    <tr ng-repeat="rnrstatus in rnrstaus[1] track by $index">
                        <th class="mdl-data-table__cell--non-numeric">{{$index+1}}</th>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstatus.period}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstatus.prepared}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstatus.progress}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstatus.compoleted}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstatus.cancelled}}</td>
                    </tr>
                    <tr style="background-color: silver">
                        <th class="mdl-data-table__cell--non-numeric" colspan="2">Total</th>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstaus[0][0].Totalprepared}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstaus[0][0].Totalprogress}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstaus[0][0].Totalcompoleted}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstaus[0][0].Totalcancelled}}</td>
                    </tr>

                </table>

            </vertical-tab-pane>
            <vertical-tab-pane title="R&R ORDER STATUS DESCRIPTION" >
                <md-input-container class="md-block ">
                    <label>Choose Order Number To load Order Items</label>
                    <md-select ng-model='rnr_number' ng-change="RnRstatus(rnr_number)" required="">

                        <md-option ng-value="rnrOrderNumber.order_number" ng-repeat="rnrOrderNumber in rnrOrderNumbers track by $index" > {{ rnrOrderNumber.order_number}} </md-option>
                    </md-select>
                </md-input-container>
                <p></p>
                <table border="1" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">
                    <tr style="background-color: silver" >

                        <th class="mdl-data-table__cell--non-numeric">s/n</th>
                        <th class="mdl-data-table__cell--non-numeric">ORDER_ID</th>
                        <th class="mdl-data-table__cell--non-numeric">DESCRIPTION</th>
                        <th class="mdl-data-table__cell--non-numeric">RESPONSE_CODE</th>
                        <th class="mdl-data-table__cell--non-numeric">RESPONSE_TIME</th>


                    </tr>

                    <tr ng-repeat="rnrstatus in statusesRnR track by $index">
                        <th class="mdl-data-table__cell--non-numeric">{{$index+1}}</th>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstatus.sourceOrderId}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstatus.message}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstatus.status}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rnrstatus.created_at}}</td>
                    </tr>
                    <tr style="color: yellow" ng-if="statusesRnR.length<1">
                        <th colspan="5"> NO RESPONSE FOUND</th>
                    </tr>
                </table>
            </vertical-tab-pane>
        </vertical-tabs>




    </md-tab>
    <md-tab label="RECEIVING & ISSUING">
        <vertical-tabs>
            <vertical-tab-pane title="ITEM RECEIVING">
                <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



                <div style="overflow-x:scroll;max-width:960px;" >
                    <div style="padding:2em">

                        <div layout="row"  >
                            <div flex="80"></div>
                            <md-checkbox  ng-model="inv" aria-label="Create New Invoice">
                                New Invoice?
                            </md-checkbox>
                        </div>
                        <!--invoices-->
                        <div ng-if="inv">

                            <md-input-container class="md-block   col-md-6 col-sm-4">
                                <label> Enter  Invoice number</label>
                                <input type="text" class="md-block"   ng-model="invoice.invoice_number">
                                <p></p>

                            </md-input-container>
                            <md-input-container class="md-block   col-md-6 col-sm-4" >
                                <label> Vendor Name</label>
                                <md-select ng-model="invoice.vendor_id">
                                    <md-option ng-repeat="vendor in vendors" ng-value="vendor.id">{{vendor.vendor_name}}</md-option>
                                </md-select>


                            </md-input-container >

                            <div class="md-block">

                                <md-button class="md-raised md-primary" ng-click="invoice_registration(invoice)" >Save</md-button>


                            </div>
                        </div>




                        <!--invoices-->
                        <div ng-if="!inv">
                            <div ng-if="!items_array.length>0">
                                <md-input-container class="md-block   col-md-6 col-sm-4">
                                    <label> Search Item </label>

                                    <input type="text"  class="md-block" typeahead-on-select="" ng-model="item_receive.selectedItem"   uib-typeahead ="item as item.item_name  for item in showSearch($viewValue)  | filter:$viewValue">

                                </md-input-container>

                                <md-input-container class="md-block   col-md-6 col-sm-4">
                                    <label> Choose Store Name</label>
                                    <input type="text"  class="md-block" typeahead-on-select="" ng-model="item_receive.selectedStore"   uib-typeahead ="store as store.store_name  for store in main_stores  | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                           class="md-block" typeahead-show-hint="true" typeahead-min-length="0">



                                </md-input-container>

                                <div class="row">
                                    <md-input-container class="md-block   col-md-6 col-sm-4">
                                        <label>Choose Invoice Number</label>
                                        <input type="text"  class="md-block reg" typeahead-on-select="" ng-model="item_receive.selectedInvoice"   uib-typeahead ="invoice as invoice.invoice_number  for invoice in invoices | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                               class="md-block" typeahead-show-hint="true" typeahead-min-length="0">
                                        <b style="color:maroon" role="info"> <b ng-if="item_receive.selectedInvoice.id">VENDOR NAME:  &nbsp;&nbsp;&nbsp;</b>
                                            <b ng-if="item_receive.selectedInvoice && item_receive.selectedInvoice.length >=4 && !item_receive.selectedInvoice.id">Invoice may be not yet registered</b>
                                            {{item_receive.selectedInvoice.vendor_name}}</b>

                                    </md-input-container>
                                    <md-input-container class="md-block   col-md-6 col-sm-4">
                                        <label>Select Transaction Type</label>
                                        <md-select ng-model="item_receive.transaction_type_id" class="md-block" >
                                            <md-option ng-repeat="transtype in transtypespossitive" ng-value="transtype.id">{{transtype.transaction_type}}</md-option>
                                        </md-select>
                                    </md-input-container>
                                </div>
                                <div class="row">
                                    <md-input-container class="md-block   col-md-6 col-sm-4">
                                        <label> Enter Batch Number</label>
                                        <input type="text" class="mb-block"   ng-model="item_receive.batch_no" >

                                    </md-input-container>
                                    <md-input-container class="md-block   col-md-6 col-sm-4">
                                        <label> Enter Remarks</label>
                                        <input type="text" class="md-block"  ng-model="item_receive.remarks">

                                    </md-input-container>
                                </div>
                                <div class="row">
                                    <md-input-container class="md-block   col-md-6 col-sm-4">
                                        <label> Expiry Date </label>
                                        <input type="text" class="md-block"   datetime-picker date-only date-format="yyyy-MM-dd"    ng-model="item_receive.expiry_date">

                                    </md-input-container>
                                    <md-input-container class="md-block   col-md-6 col-sm-4">
                                        <label> Quantity Received</label>
                                        <input type="number" class="md-block" min="0" id="qt"  ng-model="item_receive.quantity">

                                    </md-input-container>


                                </div>
                                <div class="row">
                                    <md-input-container class="md-block   col-md-6 col-sm-4">
                                        <label> Date of Item/package arrived</label>
                                        <input type="text" class="md-block"    datetime-picker date-only date-format="yyyy-MM-dd"    ng-model="item_receive.received_date">

                                    </md-input-container>
                                    <md-input-container class="md-block   col-md-6 col-sm-4" title='unit price = cost price divide by UoM'>
                                        <label> Unit Price</label>
                                        <input type="text" class="md-block" min="0"   ng-model="item_receive.price">

                                    </md-input-container>






                                    <md-input-container class="md-block   col-md-6 col-sm-4">
                                        <label> Attachment</label>
                                        <input type="file" class="md-block"   ng-model="item_receive.attachment_id">

                                    </md-input-container>
                                    <div class="md-block col-md-2 col-sm-4 ">
                                        <md-button class="md-raised md-primary" ng-click="item_receiving_list(item_receive)" >ADD</md-button>

                                    </div>


                                </div>
                            </div>
                        </div>

                        <div class="wrapper col-md-12" ng-if="items_array.length>0" >


                            <md-input-container class="md-block col-md-4">
                                <label> Item_Name</label>

                                <input type="text" id="isi1" class="md-block" typeahead-on-select="" ng-model="item_receive.selectedItem"   uib-typeahead ="item as item.item_name  for item in showSearch($viewValue)  | filter:$viewValue">

                            </md-input-container>
                            <md-input-container class="md-block col-md-2">
                                <label> Batch_Number</label>
                                <input type="text" class="md-block" id="btchi"  ng-model="item_receive.batch_no" >

                            </md-input-container>
                            <md-input-container class="md-block col-md-1">
                                <label> Quantity</label>
                                <input type="number" class="md-block" min="0" id="qt"  ng-model="item_receive.quantity">

                            </md-input-container>
                            <md-input-container class="md-block col-md-2" title='unit price = cost price divide by UoM'>
                                <label> Unit Price</label>
                                <input type="text" class="md-block" min="0" id="price"  ng-model="item_receive.price">
                            </md-input-container>

                            <md-input-container class="md-block col-md-2">
                                <label> Expiry Date </label>
                                <input type="text" class="md-block" id="expire"  datetime-picker date-only date-format="yyyy-MM-dd"  placeholder="Enter  Expiry Date yyyy-mm-dd" ng-model="item_receive.expiry_date">

                            </md-input-container>

                            <div class="col-md-6 pull-right" >
                                <md-button class="md-raised md-primary" ng-click="item_receiving_list(item_receive)" >ADD  </md-button>

                            </div>


                        </div>



                        <table ng-if="items_array.length>0" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">

                            <tr style="background-color: beige">
                                <th class="mdl-data-table__cell--non-numeric"></th>
                                <th class="mdl-data-table__cell--non-numeric"></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ><u>
                                    <u>
                                        {{total_cost | currency:'  ':2}}
                                    </u>
                                </u></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                            </tr>
                            <tr>
                                <th class="mdl-data-table__cell--non-numeric" >#</th>
                                <th class="mdl-data-table__cell--non-numeric" >Name</th>
                                <th class="mdl-data-table__cell--non-numeric" >Store</th>
                                <th class="mdl-data-table__cell--non-numeric" >Invoice</th>
                                <th class="mdl-data-table__cell--non-numeric" >Remarks</th>
                                <th class="mdl-data-table__cell--non-numeric" >Batch_#</th>
                                <th class="mdl-data-table__cell--non-numeric" >Quantity</th>
                                <th class="mdl-data-table__cell--non-numeric" >Unit_Price</th>
                                <th class="mdl-data-table__cell--non-numeric" >Cost_Price</th>
                                <th class="mdl-data-table__cell--non-numeric" >Expiry_Date</th>
                                <th class="mdl-data-table__cell--non-numeric" >Received_date</th>
                                <th class="mdl-data-table__cell--non-numeric" > </th>

                            </tr>
                            <tr ng-repeat="array in items_array track by $index">
                                <td class="mdl-data-table__cell--non-numeric">{{$index + 1}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{array.item_name}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{array.store_name}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{array.invoice_number}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{array.remarks}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{array.batch_no}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{array.quantity}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{array.price | currency:'  ':2}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{array.price * array.quantity  | currency:'  ':2 }}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{array.expiry_date}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{array.received_date}}</td>
                                <td ><a   ng-click="removeItemArray($index)" style="color:maroon" title="Remove from list">Remove</a></td>


                            </tr>
                            <tr>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ><u>
                                    <u>
                                        <!--{{total_cost | currency:'  ':2}}-->
                                    </u>
                                </u></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                                <th class="mdl-data-table__cell--non-numeric" ></th>
                            </tr>
                        </table>




                        <div class="md-block" ng-if="items_array.length>0">
                            <md-button class="md-raised md-primary" ng-click="item_receiving_registration()" >SAVE</md-button>
                        </div>

                    </div>
                </div>



            </vertical-tab-pane>

            <vertical-tab-pane title="ITEM ISSUING">

                <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


                <div style="overflow-x:scroll;max-width:960px;" >
                    <div class="row">
                        <div class="col-md-12 form-box">
                            <form  >
                                <fieldset>

                                    <div class="form-bottom">
                                        <div ng-if="items_array_issue.length<1">
                                            <div class="row">
                                                <md-input-container class="md-block col-md-6 col-md-4 ">
                                                    <label> Item Name</label>

                                                    <input type="text" id="itm" class="md-block" autocomplete="off" typeahead-on-select="loadBatch(item_issue.selectedItem.item_id)" ng-model="item_issue.selectedItem"  uib-typeahead ="item as item.item_name  for item in showItem($viewValue)  | filter:$viewValue">

                                                    <div style="color: green;" ng-if="!item_issue.selectedItem.item_id" >Choose item you want to issue</div>

                                                </md-input-container>

                                                <md-input-container class="md-block col-md-6 col-md-4" ng-if="item_issue.selectedItem.id &&  batches.length > 0">

                                                    <label>Batch Number</label>
                                                    <input type="text" id="btch" class="md-block" typeahead-on-select="loadBatchBalance(item_issue.selectedBatch.batch_no,item_issue.selectedBatch.store_id,item_issue.selectedBatch.item_id)" ng-model="item_issue.selectedBatch" placeholder="Search Item Batch Number " uib-typeahead ="batch as batch.batch_no +' ' +'Store' +' '+batch.store_name   for batch in batches  | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                           class="md-block" typeahead-show-hint="true" typeahead-min-length="0">
                                                    <b ng-if="!batchesbalances" style="color: maroon;"   > </b>
                                                    <b style="color:navy" role="info" ng-if="item_issue.selectedBatch.batch_no && batchesbalances" id="itm1">
                                                        <b id="itm2" ng-if="item_receive.selectedInvoice && item_receive.selectedInvoice.length >=4 && !item_receive.selectedInvoice.id"></b>

                                                    </b>

                                                </md-input-container>
                                            </div>
                                            <div class="row" ng-if="item_issue.selectedItem.id &&  batches.length > 0" >

                                                <md-input-container class="md-block col-md-6 col-md-4" ng-if="item_issue.selectedBatch">
                                                    <label>Available Quantity</label>

                                                    <input type="text" class="md-block" disabled  ng-value="batchesbalances[0].quantity"   title="Available Quantity in {{item_issue.selectedBatch.store_name}}"     ng-model="item_issue.store_balance1"  typeahead-template-url="customTemplate.html"
                                                           class="md-block" typeahead-show-hint="true" typeahead-min-length="0">

                                                </md-input-container>
                                                <md-input-container class="md-block col-md-6 col-md-4">
                                                    <label>Issuing/Adjustment Quantity</label>
                                                    <input type="number" class="md-block" min="1"   ng-model="item_issue.quantity">
                                                    <b ng-if="item_issue.quantity<0" style="color:maroon" role="remove"> Issuing Quantity Can not Be Negative value</b>

                                                </md-input-container>


                                            </div>

                                            <div class="row" ng-if="item_issue.selectedItem.id &&  batches.length > 0">

                                                <md-input-container class="md-block col-md-6 col-md-4">
                                                    <label> Transaction Type</label>

                                                    <input type="text"  class="md-block" typeahead-on-select="" ng-model="item_issue.transaction_type_id"   uib-typeahead ="transtype as transtype.transaction_type  for transtype in transtypes | limitTo:20 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                           class="md-block" typeahead-show-hint="true" typeahead-min-length="0">


                                                </md-input-container>
                                                <md-input-container class="md-block col-md-6 col-md-4 " ng-if="item_issue.transaction_type_id.adjustment=='plus'">

                                                    <label> Issuing To</label>
                                                    <input type="text"  class="md-block " typeahead-on-select="TargetedStoreUserToReceive(item_issue.selectedStore.id)" ng-model="item_issue.selectedStore"   uib-typeahead ="store as store.store_name  for store in stores | limitTo:20 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                           class="md-block" typeahead-show-hint="true" typeahead-min-length="0">


                                                </md-input-container>

                                                <md-input-container class="md-block col-md-6 col-md-4 " ng-if="item_issue.selectedStore.id">

                                                    <label>Choose Targeted User To Received</label>
                                                    <md-select ng-model="item_issue.user_targeted_id" md-block>
                                                        <md-option value="{{target_store_user.user_targeted_id}}" ng-repeat="target_store_user in target_store_users">{{target_store_user.name}}  </md-option>
                                                    </md-select>

                                                </md-input-container>


                                            </div>
                                            <div class="md-block col-md-6 col-md-4">

                                                <b  style="color:maroon" role="info"  ng-if="batchesbalances[0].quantity && batchesbalances[0].quantity - item_issue.quantity < 0 "> No enough quantity for the selected item batch number or Choose another item batch number </b>
                                                <b  style="color:maroon" role="info"  ng-if="item_issue.selectedStore.id && item_issue.selectedBatch.store_id == item_issue.selectedStore.id"> Oops!!! You can not Issue item within a same store.... </b>


                                                <div class="md-block">
                                                    <md-button class="md-raised md-primary" ng-click="pharmacy_item_list_issue(item_issue)" ng-if="item_issue.quantity && item_issue.selectedBatch.store_id != item_issue.selectedStore.id && batchesbalances[0].quantity - item_issue.quantity >=0"  >ADD TO LIST</md-button>
                                                </div>






                                            </div>
                                            <p style="color: maroon;" ng-if="item_issue.selectedItem.id && batches.length < 1" >No balance in your store for this item </p>
                                        </div>

                                        <div class="  col-md-12" ng-if="items_array_issue.length>0" >


                                            <md-input-container class="md-block col-md-6 col-md-4">
                                                <label>Search Item Name</label>

                                                <input type="text" id="isi1" class="md-block " typeahead-on-select="loadBatch(item_issue.selectedItem.item_id)" ng-model="item_issue.selectedItem"   uib-typeahead ="item as item.item_name  for item in showItem($viewValue)  | filter:$viewValue">

                                            </md-input-container>
                                            <md-input-container  class="col-md-2 md-block">

                                                <label>Batch Number</label>
                                                <input type="text" id="btchi" class="md-block " typeahead-on-select="loadBatchBalance(item_issue.selectedBatch.batch_no,item_issue.selectedBatch.store_id,item_issue.selectedBatch.item_id)" ng-model="item_issue.selectedBatch"   uib-typeahead ="batch as batch.batch_no +' ' +'Store' +' '+batch.store_name   for batch in batches  | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                       class="md-block" typeahead-show-hint="true" typeahead-min-length="0">
                                                <b ng-if="!batchesbalances" style="color: maroon;"   >Choose Batch Number</b>
                                                <b style="color:navy" role="info" ng-if="item_issue.selectedBatch.batch_no && batchesbalances" id="isi">
                                                    <b id="isi2" ng-if="item_receive.selectedInvoice && item_receive.selectedInvoice.length >=4 && !item_receive.selectedInvoice.id"></b>

                                                </b>
                                            </md-input-container>

                                            <md-input-container class="col-md-2 col-sm-4 md-block" >
                                                <label>  Quantity</label>
                                                <input type="number" class="md-block" id="qt" min="1"  ng-model="item_issue.quantity">
                                                <b ng-if="item_issue.quantity<0" style="color:maroon" role="remove"> Issuing Quantity Can not Be Negative value</b>

                                            </md-input-container>

                                            <md-input-container class="md-block col-md-3 col-sm-4">
                                                <label> Transaction Type</label>

                                                <input type="text"  class="md-block " typeahead-on-select="" ng-model="item_issue.transaction_type_id"  uib-typeahead ="transtype as transtype.transaction_type  for transtype in transtypes | limitTo:20 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                       class="md-block" typeahead-show-hint="true" typeahead-min-length="0">


                                            </md-input-container>

                                            <div class="col-md-6 pull-right" >
                                                <md-button class="md-raised md-primary" ng-click="pharmacy_item_list_issue(item_issue)" >ADD  </md-button>

                                            </div>


                                        </div>


                                        <div>

                                            <table ng-if="items_array_issue.length>0" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">
                                                <tr style="background-color: beige">
                                                    <th class="mdl-data-table__cell--non-numeric" >#</th>
                                                    <th class="mdl-data-table__cell--non-numeric" >Name</th>
                                                    <th class="mdl-data-table__cell--non-numeric" >Form</th>
                                                    <th class="mdl-data-table__cell--non-numeric" >To</th>
                                                    <th class="mdl-data-table__cell--non-numeric" >Batch_#</th>
                                                    <th class="mdl-data-table__cell--non-numeric" >Quantity</th>

                                                    <th class="mdl-data-table__cell--non-numeric" > </th>

                                                </tr>
                                                <tr ng-repeat="array in items_array_issue track by $index">
                                                    <td class="mdl-data-table__cell--non-numeric">{{$index + 1}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{array.item_name}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{array.from}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{array.store_name}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{array.batch_no}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{array.quantity_issued }}</td>

                                                    <td class="mdl-data-table__cell--non-numeric" ><a   ng-click="removeItemArray_issue($index)" style="color:maroon" title="Remove from list">Remove</a></td>


                                                </tr>

                                            </table>

                                        </div>


                                        <md-button  class="md-raised md-primary " ng-click="pharmacy_item_issuing(item_issue)" ng-if="items_array_issue.length>0">SAVE</md-button>

                                    </div>



                                </fieldset>
                            </form>
                        </div>
                    </div>
                </div>



                <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




            </vertical-tab-pane>
            <vertical-tab-pane title=" RECONCILIATION HISTORY">

                <div style="overflow-x:scroll;" >
                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->
                    <div class="pull-right">
                        <input type="datetime" ng-model="dataf.start_date" datetime-picker   date-format="yyyy-MM-dd" placeholder="Start Date">
                        <input type="datetime"  ng-model="dataf.end_date" datetime-picker   date-format="yyyy-MM-dd" placeholder="End Date">

                        <md-button   ng-click="getStockReconcilliated(dataf)" class="">Search</md-button>


                    </div>
                    <p></p>

                    <b ng-if="reconsiled_records.length==0">No record found</b>
                    <div  ><input type="text" ng-model="search" placeholder="quick search">        </div>
                    <table border="1" ng-if="reconsiled_records.length>0">
                        <tr>
                            <th>#</th>
                            <th>Item</th>
                            <th>BatchNo</th>
                            <th>OriginalAmount</th>
                            <th>ChangedAmount</th>
                            <th>Store</th>
                            <th>StaffName</th>
                            <th>Reasons</th>
                            <th>Date</th>
                            <th>Action</th>
                        </tr>
                        <tr ng-repeat="recon in reconsiled_records |filter:search track by $index ">
                            <th>{{$index+1}}</th>
                            <th>{{recon.item_name}}</th>
                            <th>{{recon.batch_no}}</th>
                            <th>{{recon.old_quantity}}</th>
                            <th>{{recon.current_quantity}}</th>
                            <th>{{recon.store_name}}</th>
                            <th>{{recon.user_name}}</th>
                            <th>{{recon.reason}}</th>
                            <th>{{recon.created_at}}</th>
                            <th> <button ng-click="returnStockReconcilliated(recon,dataf)"> reverse </button></th>
                        </tr>
                    </table>
                </div>
            </vertical-tab-pane>
            <vertical-tab-pane title="STOCK RECONCILIATION">

                <!--//------------------ -->


                <div >
                    <div class="row">
                        <div class="col-md-12 form-box">
                            <md-input-container class="md-block col-md-6 col-md-4 ">
                                <label>Search Item Name</label>

                                <input type="text" id="itm" class="md-block" autocomplete="off" typeahead-on-select="reconsiliatedBatch(item_issue.selectedItem.item_id)" ng-model="item_issue.selectedItem"  uib-typeahead ="item as item.item_name  for item in showItem($viewValue)  | filter:$viewValue">

                            </md-input-container>

                            <b style="background-color: red" ng-if="item_consiliates.length<1" class="col-md-6 col-md-4"> No Data Record Found For this Item</b>

                            <table     border=1 class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="80%" ng-if="item_consiliates.length>0"   >


                                <thead   style="background-color: beige">

                                <tr >
                                    <td class="mdl-data-table__cell--non-numeric">

                                        Item



                                    </td>
                                    <td class="mdl-data-table__cell--non-numeric">

                                        Store



                                    </td>
                                    <td class="mdl-data-table__cell--non-numeric">

                                        Batch No



                                    </td>


                                    <td class="mdl-data-table__cell--non-numeric" >

                                        Quantity



                                    </td>
                                    <td class="mdl-data-table__cell--non-numeric" >

                                        Actual Amount



                                    </td>





                                </tr>
                                </thead>

                                <tbody>
                                <tr ng-repeat="item in item_consiliates  track by $index" >
                                    <td class="mdl-data-table__cell--non-numeric">  {{item.item_name}}  </td>
                                    <td class="mdl-data-table__cell--non-numeric">  {{item.store_name}}  </td>
                                    <td class="mdl-data-table__cell--non-numeric">  {{item.batch_no}}  </td>
                                    <td class="mdl-data-table__cell--non-numeric">  {{item.quantity}}  </td>
                                    <td class="mdl-data-table__cell--non-numeric">

                                        <input type="text"   id="{{item.id.replace(regex, '_')}}" class="form-control reg money" placeholder="Enter Actual Amount" title="Enter item actual amount for {{item.item_name}} " onkeyup="money(this)"/>
                                    </td>
                                </tr>

                                <tr>

                                    <td class="mdl-data-table__cell--non-numeric" colspan="6">
                                        <md-input-container class="md-block col-md-12">
                                            <textarea  ng-model="reason" required  id="reason"  placeholder="Enter Reconciliation Reasons"/>
                                        </md-input-container>
                                    </td>

                                </tr>
                                <tr>

                                    <td class="mdl-data-table__cell--non-numeric" colspan="6">  <md-button ng-click="SaveReconsilation(reason)" class="md-raised md-primary fa fa-send" title="Update">Save</md-button> </td>


                                </tr>


                                </tbody>


                            </table>





                        </div>
                    </div>
                </div>



                <!--//------------------ -->




            </vertical-tab-pane>



        </vertical-tabs>

        <md-tab label="DAILY DISPENSED DETAILS">
            <div style="overflow-x:scroll;" >
                <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->
                <div class="pull-right">
                    <input type="datetime" ng-model="dataf.start_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="Start Date">
                    <input type="datetime"  ng-model="dataf.end_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="End Date">

                    <md-button   ng-click="daily_dispensed_items(dataf)" class="">Search</md-button>


                </div>
                <p></p>


                <div id="dailydispensed"  >
                    <b ng-click="PrintContent_daily_dispensed()" title="Print"
                       class="no-print "><b class="glyphicon glyphicon-print "></b> </b>


                    </center><hr><center>DAILY DISPENSED DETAILS</center>





                    <div   >
                        <table     class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp table-responsive" width="100%"  border="1">
                            <thead>
                            <tr style="background-color: sandybrown; font-size: 8px;font-family: 'Tahoma'">
                                <th class="mdl-data-table__cell--non-numeric">s/n</th>
                                <th class="mdl-data-table__cell--non-numeric">MTEJA</th>
                                <th class="mdl-data-table__cell--non-numeric">UMRI</th>
                                <th class="mdl-data-table__cell--non-numeric">JINSIA</th>
                                <th class="mdl-data-table__cell--non-numeric">JALADA #</th>
                                <th class="mdl-data-table__cell--non-numeric">DIAGNOSIS</th>
                                <th class="mdl-data-table__cell--non-numeric">DAWA_IMEBANDIKWA</th>
                                <th class="mdl-data-table__cell--non-numeric">DAWA_ALIYOKOSA</th>
                                <th class="mdl-data-table__cell--non-numeric">DAWA_MBADALA</th>
                                <th class="mdl-data-table__cell--non-numeric">JINA_LA_DAKTARI</th>
                                <th class="mdl-data-table__cell--non-numeric">MTOA_DAWA</th>

                            </tr>
                            </thead>
                            <tbody>
                            <tr  style=" font-size: 12px;font-family: 'Times New Roman'" ng-repeat="daily in daily_dispenses track by $index">
                                <td class="mdl-data-table__cell--non-numeric">{{$index+1}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{daily.names}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{daily.age}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{daily.gender}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{daily.mrn}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{daily.diagnosis}}</td>
                                <td class="mdl-data-table__cell--non-numeric">

                                </td>
                                <td class="mdl-data-table__cell--non-numeric">{{daily.item_name}}</td>
                                <td class="mdl-data-table__cell--non-numeric">

                                </td>
                                <td class="mdl-data-table__cell--non-numeric">{{daily.doctor_name}}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{daily.dispenser}}</td>


                                </td>


                            </tr>
                            <tr ng-if="daily_dispenses.length==0" style="font-family: 'Lucida Calligraphy'">
                                <th style="color: red" colspan="11"> No any record found</th>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>

        </md-tab>


        <md-tab label="STOCK REPORTS">

            <vertical-tabs>


                <vertical-tab-pane title="STORE RECORDS">
                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->
                    <md-input-container class="md-block">
                        <input type="text" autocomplete="off" ng-model="search" class="md-block" placeholder="Quick Search......">
                    </md-input-container>

                    <div style="overflow-x:scroll;max-width:960px;" >
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div  class="form-bottom">

                                            <div id='divtoprint1'>
                                                <b ng-click="PrintContent_balance()" title="Print"
                                                   class="no-print "><b class="glyphicon glyphicon-print "></b> </b>
                                                <center>   <b class="col-md-4">Jina la Kituo:&nbsp;&nbsp;&nbsp;
                                                    {{loginUserFacilityDetails[0].facility_name}}&nbsp;&nbsp;&nbsp; </b>
                                                    <b class="col-md-4">Wilaya :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].council_name}} &nbsp;&nbsp;&nbsp;</b>
                                                    <b class="col-md-4">Mkoa :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].region_name}} </b>

                                                </center>
                                                <hr>
                                                <h3 ng-if="report.id" class="text-center  md-block" style="border-radius: 50px;color:green ">  {{report.balance}} </h3>
                                                <hr>
                                                <md-input-container class="md-block">
                                                    <input type="text"  class="md-block no-print  " typeahead-on-select="pharmacy_report(report.id)" ng-model="report" placeholder="Search report Options " uib-typeahead ="report as report.balance  for report in reports  | filter:$viewValue" typeahead-template-url="customTemplate.html"
                                                           typeahead-show-hint="true" typeahead-min-length="0">

                                                </md-input-container>

                                                <hr>


                                                <div  >

                                                    <table   class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%"  >


                                                        <thead style="background-color: beige">

                                                        <tr>
                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                No

                                                            </td >

                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                Item Code



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                Item Name



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                Batch No



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                Quantity



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                                Cost Price



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric" >

                                                                Store Name



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                                Store Type



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                                Invoice



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                                Vendor Name



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                                Expiry Date



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                                Received Date



                                                            </td><td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Received By



                                                        </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                                Status



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric"  >

                                                                Remark



                                                            </td>

                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                                Requesting Store



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                                Requesting amount



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                                Issued amount



                                                            </td> <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Date of action



                                                        </td>


                                                        </tr>
                                                        </thead>

                                                        <tbody>
                                                        <tr  ng-repeat="item in items    | filter:search track by $index">
                                                            <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>
                                                            <td class="mdl-data-table__cell--non-numeric">  {{item.item_code}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric">  {{item.item_name}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric">  {{item.batch_no}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric">  {{item.quantity | currency:" "}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.price | currency:"TZS "}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric">  {{item.store_name}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.store_type_name}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.invoice_number}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric" class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.vendor_name}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.expiry_date}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.received_date}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.name1}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.transaction_type}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.remarks}}  </td>

                                                            <td class="mdl-data-table__cell--non-numeric"   ng-if="report.id ==1 && item.expirydate >6"  title="{{item.expirydate}} Months remained to Expired "  >   </td>
                                                            <td class="mdl-data-table__cell--non-numeric"  ng-if="report.id ==1 && item.expirydate >3 && item.expirydate <6" title="{{item.expirydate}} Months remained to Expired "  > <b class="btn btn" style="background-color: yellow"  ></b>  </td>
                                                            <td  class="mdl-data-table__cell--non-numeric"  ng-if="report.id ==1 && item.expirydate >0 && item.expirydate <3" align="center"  title="  {{item.expirydate}}  Months remained to Expired " > <b class="btn btn" style="background-color: red"  ></b>   </td>
                                                            <td class="mdl-data-table__cell--non-numeric"  ng-if="report.id ==1 && item.expirydate <1"    title="Expired [{{item.expirydate * -1}}   months ago] " > <b class="btn btn" style="background-color: darkred"  ></b>   </td>



                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.issued_store_name}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.requested_amount | currency:" "}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric" class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.issued_quantity | currency:" "}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.updated_at}}  </td>

                                                        </tbody>

                                                    </table>





                                                    <!--<div ng-if="report.id ==1">-->
                                                    <!--<hr>-->
                                                    <!--<canvas id="bar" class="chart chart-bar"-->
                                                    <!--chart-data="data" chart-labels="labels" >-->
                                                    <!--</canvas>-->
                                                    <!--</div>-->
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>




                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


                </vertical-tab-pane>


                <vertical-tab-pane title="RECEIVED AND ISSUED ">
                    <div style="overflow-x:scroll;max-width:960px;" >
                        <md-input-container class="md-block">
                            <input type="text" autocomplete="off" ng-model="search" class="md-block" placeholder="Quick Search......">
                        </md-input-container>

                        <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->

                        <md-radio-group layout="row" ng-model="data.receive_r">
                            <md-radio-button value="rec_r" class="md-primary">Received record</md-radio-button>
                            <md-radio-button value="issue_r" class="md-primary">Issued Record </md-radio-button>
                        </md-radio-group>

                        <div class="pull-right">
                            <input type="datetime" ng-model="data.start_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="Start Date">
                            <input type="datetime"  ng-model="data.end_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="End Date">

                            <md-button   ng-click="Receive_issueSearch(data)" class="md-raised md-raised-search ">Search</md-button>
                        </div>

                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>
                                        <a onclick="PrintContent_r();" title="Print" ng-if="data.receive_r=='rec_r'"   class="no-print   pull-right"><b class="md-raised md-raised-print "></b>  </a>
                                        <a onclick="PrintContent_s();" title="Print" ng-if="data.receive_r=='issue_r'"  class="no-print   pull-right"><b class="md-raised md-raised-print "></b>  </a>

                                        <div  class="form-bottom">

                                            <div id='divtoprint_r' ng-if="recs">

                                                <b ng-click="PrintContent_received()" title="Print"
                                                   class="no-print "><b class="glyphicon glyphicon-print "></b> </b>
                                                <center>   <b class="col-md-4">Jina la Kituo:&nbsp;&nbsp;&nbsp;
                                                    {{loginUserFacilityDetails[0].facility_name}}&nbsp;&nbsp;&nbsp; </b>
                                                    <b class="col-md-4">Wilaya :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].council_name}} &nbsp;&nbsp;&nbsp;</b>
                                                    <b class="col-md-4">Mkoa :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].region_name}} </b>



                                                    <hr></center>
                                                <center>  <strong   class="text-center col-md-offset-6" ng-if="data.receive_r=='rec_r'" > ITEMS RECEIVED LIST</strong>
                                                </center>
                                                <table  ng-if="data.receive_r=='rec_r'"  class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">
                                                    <thead>
                                                    <tr style="background-color: beige">
                                                        <th class="mdl-data-table__cell--non-numeric">s/n</th>
                                                        <th class="mdl-data-table__cell--non-numeric">Item</th>
                                                        <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                                                        <th class="mdl-data-table__cell--non-numeric">Invoice</th>
                                                        <th class="mdl-data-table__cell--non-numeric">Store</th>
                                                        <th class="mdl-data-table__cell--non-numeric">Date</th>
                                                        <th class="mdl-data-table__cell--non-numeric">By</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr   ng-repeat="rec in recs    | filter:search track by $index">
                                                        <td class="mdl-data-table__cell--non-numeric">{{$index+1}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{rec.item_name}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{rec.quantity | currency:" "}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{rec.invoice_number}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{rec.store_name}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{rec.created_at}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{rec.name}}</td>
                                                    </tr>
                                                    </tbody>
                                                </table>

                                            </div>
                                            <div id='divtoprint_s' ng-if="issue_s">
                                                <b ng-click="PrintContent_issued()" title="Print"
                                                   class="no-print "><b class="glyphicon glyphicon-print "></b> </b>


                                                <center>   <b class="col-md-4">Jina la Kituo:&nbsp;&nbsp;&nbsp;
                                                    {{loginUserFacilityDetails[0].facility_name}}&nbsp;&nbsp;&nbsp; </b>
                                                    <b class="col-md-4">Wilaya :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].council_name}} &nbsp;&nbsp;&nbsp;</b>
                                                    <b class="col-md-4">Mkoa :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].region_name}} </b>

                                                    <hr></center>
                                                <center> <strong  class="text-center col-md-offset-6" ng-if="data.receive_r=='issue_r'"> ITEMS ISSUED LIST</strong></center>
                                                <table ng-if="data.receive_r=='issue_r'"  class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" >
                                                    <thead>
                                                    <tr style="background-color: beige">
                                                        <th class="mdl-data-table__cell--non-numeric">s/n</th>
                                                        <th class="mdl-data-table__cell--non-numeric">Item</th>
                                                        <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                                                        <th class="mdl-data-table__cell--non-numeric">From</th>
                                                        <th class="mdl-data-table__cell--non-numeric">To</th>
                                                        <th class="mdl-data-table__cell--non-numeric">Date</th>
                                                        <th class="mdl-data-table__cell--non-numeric"> By</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr   ng-repeat="issue_ in issue_s    | filter:search track by $index">
                                                        <td class="mdl-data-table__cell--non-numeric">{{$index+1}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{issue_.item_name}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{issue_.quantity | currency:" "}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{issue_.main_store_name}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{issue_.store_name}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{issue_.created_at}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{issue_.name}}</td>

                                                    </tr>
                                                    </tbody>
                                                </table>

                                            </div>



                                        </div>


                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


                </vertical-tab-pane>
                <vertical-tab-pane title="ISSUE VOUCHER ">
                    <md-input-container class="md-block">
                        <input type="text" autocomplete="off" ng-model="search" class="md-block" placeholder="Quick Search......">
                    </md-input-container>

                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div layout-gt-sm="row">
                        <div class="md-block" flex-gt-sm="20">
                            <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">
                                <tr ng-repeat="voucher_store in voucher_stores | filter:search">
                                    <th class="mdl-data-table__cell--non-numeric " ng-click="loadStoreVoucherDates(voucher_store.id,voucher_store.store_name)"> <md-button class="md-raised md-primary ">{{voucher_store.store_name}}</md-button> </th>
                                </tr>
                            </table>
                        </div>
                        <div class="md-block" flex-gt-sm="10">


                        </div>
                        <div class="md-block" flex-gt-sm="10">


                        </div>
                        <div class="md-block table table-responsive" flex-gt-sm="60" ng-if="voucher_dates.length>0">
                            <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" >
                                <tr>
                                    <th class="mdl-data-table__cell--non-numeric  ">{{issued_store_name}}
                                        <input type="text" ng-model="search11" placeholder="filter date">
                                    </th>
                                </tr>
                                <tr ng-repeat="voucher_date in voucher_dates | filter:search11" class="mdl-data-table__cell--non-numeric  ">

                                    <th class="mdl-data-table__cell--non-numeric  md-raised"  ng-click="ViewVoucherDetails(voucher_date)"><button>{{voucher_date.issued_date}}</button></th>


                                </tr>
                            </table>


                        </div>



                    </div>

                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


                </vertical-tab-pane>
                <vertical-tab-pane title="SERVICE POINT RECORDS">
                    <div layout="row"  >
                        <div flex="80"></div>
                        <md-radio-group layout="row" ng-model="dataa.sp"  >
                            <md-radio-button value="1" class="md-primary" >DISPENSING POINTS</md-radio-button>
                            <md-radio-button value="2" class="md-primary">SUB STORE </md-radio-button>
                        </md-radio-group>
                    </div>

                    <md-content class='md-padding' ng-if="dataa.sp=='1'">

                        <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->

                        <md-input-container class="md-block">
                            <input type="text" autocomplete="off" ng-model="search" class="md-block" placeholder="Quick Search......">
                        </md-input-container>


                        <div class="wrapper wrapper-content animated fadeInRight">
                            <div class="row">
                                <div class="col-md-12 form-box">
                                    <form  >
                                        <fieldset>

                                            <div class="form-bottom">



                                                <md-input-container >
                                                    <input type="text" class="no-print md-block  pull-right"   typeahead-on-select="pharmacy_reportsummary(report.id)" ng-model="report" placeholder="Search report Options " uib-typeahead ="report as report.balance  for report in reportsums  | filter:$viewValue"
                                                           typeahead-show-hint="true" typeahead-min-length="0">
                                                </md-input-container>
                                                <div class="pull-right" ng-if="report.id ==3">
                                                    <input type="datetime" ng-model="dataa.start_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="Start Date">
                                                    <input type="datetime"  ng-model="dataa.end_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="End Date">

                                                    <md-button   ng-click="pharmacy_reportsummary(report.id,dataa)" class="md-raised md-raised-search ">Search</md-button>
                                                </div>

                                                <p></p>

                                                <div   >

                                                    <b id='divtoprint1'>


                                                        <p></p>

                                                        <a onclick="PrintContent1();" ng-if="report.id ==3" title="Print" class="no-print   pull-right"><b class=" -print "></b>  </a>

                                                        <hr ng-if="report.id ==3 && itemdiss">
                                                        <h3 ng-if="report.id ==3 && itemdiss" class="text-center  form-control" style="border-radius: 50px;color:green "> {{report.balance}}</h3>



                                                        <table     ng-if="report.id ==3" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">


                                                            <thead>

                                                            <tr class="table-header"style="background-color: beige" >
                                                                <td class="mdl-data-table__cell--non-numeric">

                                                                    No

                                                                </td>

                                                                <td class="mdl-data-table__cell--non-numeric">

                                                                    Item Code



                                                                </td>
                                                                <td class="mdl-data-table__cell--non-numeric">

                                                                    Item Name



                                                                </td>

                                                                <td class="mdl-data-table__cell--non-numeric">

                                                                    Quantity



                                                                </td>


                                                                <td class="mdl-data-table__cell--non-numeric">

                                                                    issued to



                                                                </td>

                                                                <td class="mdl-data-table__cell--non-numeric">


                                                                    Issued by


                                                                </td>

                                                                <td class="mdl-data-table__cell--non-numeric">


                                                                    Issued date


                                                                </td>


                                                            </tr>
                                                            </thead>

                                                            <tbody>
                                                            <tr ng-repeat="item in itemdiss   | filter:search track by $index">
                                                                <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>
                                                                <td class="mdl-data-table__cell--non-numeric">  {{item.item_code}}  </td>
                                                                <td class="mdl-data-table__cell--non-numeric">  {{item.item_name}}  </td>

                                                                <td class="mdl-data-table__cell--non-numeric">  {{item.quantity}}  </td>

                                                                <td class="mdl-data-table__cell--non-numeric">  {{item.medical_record_number}}  </td>


                                                                <td class="mdl-data-table__cell--non-numeric">  {{item.dispensed_by}}  </td>

                                                                <td class="mdl-data-table__cell--non-numeric">  {{item.date}}  </td>
                                                            </tr>

                                                            </tbody>

                                                        </table>


                                                        <a onclick="PrintContent();" ng-if="report.id !=3 && itemdiss"  title="Print" class="no-print   pull-right"><b class=" -print "></b>  </a>


                                                        <!--<md-button class="no-print" ng-click="exportToExcel('#tableToExport')" ng-if="report.id !=3 && items">-->
                                                        <!--<span class=" -share"></span>-->
                                                        <!--Export to Excel-->
                                                        <!--</md-button>-->
                                                        <div id='divtoprint' ng-if="report.id !=3 && itemdiss">
                                                            <hr ng-if="report.id !=3 && itemdiss">
                                                            <h3 ng-if="report.id !=3 && itemdiss" class="text-center  form-control" style="border-radius: 50px;color:green "> {{report.balance}}</h3>


                                                            <div id="tableToExport">
                                                                <table border="1" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">
                                                                    <thead style="background-color: beige">
                                                                    <tr class="table-header">

                                                                        <td class="mdl-data-table__cell--non-numeric">

                                                                            No

                                                                        </td>

                                                                        <td  class="mdl-data-table__cell--non-numeric"  ng-click="sort('item_code')">

                                                                            Item Code


                                                                        </td>
                                                                        <td  class="mdl-data-table__cell--non-numeric"  ng-click="sort('item_name')">

                                                                            Item Name



                                                                        </td>
                                                                        <td  class="mdl-data-table__cell--non-numeric"  ng-click="sort('batch_no')">

                                                                            Batch No



                                                                        </td>
                                                                        <td  class="mdl-data-table__cell--non-numeric"  ng-click="sort('quantity_received')">

                                                                            Quantity



                                                                        </td>

                                                                        <td  class="mdl-data-table__cell--non-numeric"  ng-click="sort('store_name')">

                                                                            Store Name



                                                                        </td>
                                                                        <td  class="mdl-data-table__cell--non-numeric"  ng-if="report.id !=1" ng-click="sort('store_type')">

                                                                            Store Type



                                                                        </td>

                                                                        <td  class="mdl-data-table__cell--non-numeric"  ng-if="report.id !=1" ng-click="sort('created_at')">

                                                                            Received Date



                                                                        </td>

                                                                        <td  class="mdl-data-table__cell--non-numeric"  ng-if="report.id !=1" ng-click="sort('transaction_type')">

                                                                            Remark



                                                                        </td>


                                                                    </tr>
                                                                    </tbody>

                                                                    <tbody>
                                                                    <tr ng-repeat="item in itemdiss   | filter:search track by $index ">
                                                                        <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>
                                                                        <td class="mdl-data-table__cell--non-numeric">  {{item.item_code}}  </td>
                                                                        <td class="mdl-data-table__cell--non-numeric">  {{item.item_name}}  </td>
                                                                        <td class="mdl-data-table__cell--non-numeric">  {{item.batch_no}}  </td>
                                                                        <td class="mdl-data-table__cell--non-numeric">  {{item.quantity_received}}  </td>

                                                                        <td class="mdl-data-table__cell--non-numeric">  {{item.store_name}}  </td>
                                                                        <td ng-if="report.id !=1">  {{item.store_type_name}}  </td>

                                                                        <td  class="mdl-data-table__cell--non-numeric"   class="mdl-data-table__cell--non-numeric"  ng-if="report.id !=1">  {{item.created_at}}  </td>

                                                                        <td  class="mdl-data-table__cell--non-numeric"  ng-if="report.id !=1">  {{item.transaction_type}}  </td>

                                                                    </tbody>
                                                                </table>
                                                            </div>


                                                            <div>

                                                                <!--<canvas id="bar" class="chart chart-bar" ng-if="report.id ==1"-->
                                                                <!--chart-data="data" chart-labels="labels">-->
                                                                <!--</canvas>-->



                                                            </div>


                                                        </div>

                                        </fieldset>
                                    </form>
                                </div>
                            </div>
                        </div>


                        <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    </md-content>
                    <md-content class='md-padding'  ng-if="dataa.sp=='2'">


                        <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->

                        <md-input-container class="md-block">
                            <input type="text" autocomplete="off" ng-model="search" class="md-block" placeholder="Quick Search......">
                        </md-input-container>

                        <div class="wrapper wrapper-content animated fadeInRight">
                            <div class="row">
                                <div class="col-md-12 form-box">


                                    <div flex="80">

                                        <a onclick="PrintContent();" ng-if="items" title="Print" class="no-print   pull-right"><b class="md-raised md-raised-print "></b>  </a>

                                        <div id='divtoprint' ng-if="items">
                                            <p></p>
                                            <h3 ng-if="report.id" class="text-center  form-control" style="border-radius: 50px;color:green "> {{report.balance}}</h3>
                                            <div class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" >
                                                <md-input-container>
                                                    <input type="text"  class=" no-print  pull-right" typeahead-on-select="pharmacy_reportsub(report.id)" ng-model="report" placeholder="Search report Options " uib-typeahead ="report as report.balance  for report in reportsubs  | filter:$viewValue"
                                                           typeahead-show-hint="true" typeahead-min-length="0"></md-input-container>


                                                <table   width="800px" border=1 class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%"  >


                                                    <thead style="background-color: beige">

                                                    <tr>
                                                        <td class="mdl-data-table__cell--non-numeric" >

                                                            No

                                                        </td>

                                                        <td class="mdl-data-table__cell--non-numeric" >

                                                            Item Code



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-click="sort('item_name')">

                                                            Item



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" >

                                                            Batch_no


                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" >

                                                            Quantity



                                                        </td>

                                                        <td class="mdl-data-table__cell--non-numeric" ng-click="sort('sub_store_name')">

                                                            Store



                                                        </td>




                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Remark



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Requesting_Store



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Requesting



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Issued



                                                        </td> <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1" ng-click="sort('updated_at')">

                                                        Date



                                                    </td>

                                                    </tr>
                                                    </thead>

                                                    <tbody>
                                                    <tr dir-paginate="item in itemsubs  |itemsPerPage:100 |orderBy:sortKey:reverse  | filter:search track by $index">
                                                        <td class="mdl-data-table__cell--non-numeric" >{{ $index+1 }}</td>
                                                        <td class="mdl-data-table__cell--non-numeric" >  {{item.item_code}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" >  {{item.item_name}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" >  {{item.batch_no}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" >  {{item.quantity}}  </td>

                                                        <td class="mdl-data-table__cell--non-numeric" >  {{item.sub_store_name}}  </td>


                                                        <td ng-if="report.id !=1">  {{item.transaction_type}}  </td>

                                                        <td ng-if="report.id !=1">  {{item.issued_store_name}}  </td>
                                                        <td ng-if="report.id !=1">  {{item.request_amount}}  </td>
                                                        <td ng-if="report.id !=1">  {{item.quantity_issued}}  </td>
                                                        <td ng-if="report.id !=1">  {{item.updated_at}}  </td>
                                                    </tr>
                                                    </tbody>

                                                </table>

                                            </div>

                                            <dir-pagination-controls
                                                    max-size="5"
                                                    direction-links="true"
                                                    boundary-links="true" >
                                            </dir-pagination-controls>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->

                        </div>
                    </md-content>
                </vertical-tab-pane>
                <vertical-tab-pane title="DISPENSED ITEMS" >
                    <div style="overflow-x:scroll;max-width:960px;" >
                        <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->
                        <div class="pull-right">
                            <input type="datetime" ng-model="dataa.start_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="Start Date">
                            <input type="datetime"  ng-model="dataa.end_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="End Date">

                            <md-button   ng-click="dispensed_item_range(dataa)" class="">Search</md-button>


                        </div>
                        <p></p>


                        <div id="dispensed"  >
                            <b ng-click="PrintContent_dispensed()" title="Print"
                               class="no-print "><b class="glyphicon glyphicon-print "></b> </b>


                            </center><hr><center>DISPENSED ITEMS</center>

                            <div layout="row"  >

                                <div flex="80"> <input type="text" autocomplete="off" ng-model="search"  placeholder="Quick Search......">
                                </div>
                                <md-checkbox  ng-model="_dis" aria-label="Detail">
                                    View Summary
                                </md-checkbox>
                            </div>
                            <table     class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" ng-if="dispensed_items.length>0 && !_dis" border="1">
                                <thead>
                                <tr style="background-color: beige">
                                    <th class="mdl-data-table__cell--non-numeric">s/n</th>
                                    <th class="mdl-data-table__cell--non-numeric">Item</th>
                                    <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                                    <th class="mdl-data-table__cell--non-numeric">Patient(s)</th>

                                </tr>
                                </thead>
                                <tbody>
                                <tr   ng-repeat="rec in dispensed_items[4]    | filter:search track by $index">
                                    <td class="mdl-data-table__cell--non-numeric">{{$index+1}}</td>
                                    <td class="mdl-data-table__cell--non-numeric">{{rec.item_name}}</td>
                                    <td class="mdl-data-table__cell--non-numeric">{{rec.quantity | currency:" "}}</td>
                                    <td class="mdl-data-table__cell--non-numeric">{{rec.patients | currency:" "}}</td>

                                </tr>
                                </tbody>
                            </table>



                            <div   >
                                <table     class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp table-responsive" width="100%" ng-if="dispensed_items.length>0 &&_dis" border="1">
                                    <thead>
                                    <tr style="background-color: sandybrown">
                                        <th class="mdl-data-table__cell--non-numeric">s/n</th>
                                        <th class="mdl-data-table__cell--non-numeric">Idadi ya wagonjwa waliofika <p>pharmacy Kupata huduma yeyote</th>
                                        <th class="mdl-data-table__cell--non-numeric">Idadi ya wagonjwa waliofika <p>waliokosa hitaji tiba lolote lile</th>
                                        <th class="mdl-data-table__cell--non-numeric">Mahitaji Tiba 5-10 yaliyokosekana<p> kwa wagonjwa wengi Zaidi</th>
                                        <th class="mdl-data-table__cell--non-numeric">Aina 5-10 za Dawa <p>Zilizoongoza kwa Kukosekana</th>


                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr  >
                                        <td class="mdl-data-table__cell--non-numeric">{{$index+1}}</td>
                                        <td class="mdl-data-table__cell--non-numeric">{{dispensed_items[0][0].patients_attended}}</td>
                                        <td class="mdl-data-table__cell--non-numeric">{{dispensed_items[1][0].patients_with_os}}</td>
                                        <td class="mdl-data-table__cell--non-numeric" >

                                            <b ng-repeat="os_5_10 in dispensed_items[2] track by $index">{{$index+1}}:&nbsp;&nbsp;{{os_5_10.patients_with_more_5_10_os}}<p></p></b>
                                        </td>

                                        <td class="mdl-data-table__cell--non-numeric">

                                            <b ng-repeat="os_5_10 in dispensed_items[3] track by $index">{{$index+1}}:&nbsp;&nbsp;{{os_5_10.patients_with_more_5_10_os_more}}<p></p></b>
                                        </td>

                                    </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>

                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


                </vertical-tab-pane>
                <vertical-tab-pane title="DISPENSED ITEMS GROUP" >
                    <div style="overflow-x:scroll;max-width:960px;" >
                        <!--//------------------ -->
                        <div class="pull-right">
                            <input type="datetime" ng-model="data.start_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="Start Date">
                            <input type="datetime"  ng-model="data.end_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="End Date">

                            <md-button   ng-click="dispensed_item_range_group(data)" class="">Search</md-button>


                        </div>

                        <p></p>


                        <div id="dispensed_group"  >
                            <b ng-click="PrintContent_dispensed_proup()" title="Print"
                               class="no-print "><b class="glyphicon glyphicon-print "></b> </b>


                            <center>
                                <strong>FOMU YA TAARIFA YA KUTOLEA DAWA</strong>
                                <hr>
                                <b class="col-md-4">Jina la Kituo....  {{loginUserFacilityDetails[0].facility_name}}     ........................ </b>
                                <b class="col-md-4">Wilaya........ {{loginUserFacilityDetails[0].council_name}} ....................  </b>
                                <b class="col-md-4">Mkoa............... {{loginUserFacilityDetails[0].region_name}} ............... </b>
                            </center>


                            <table     class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%"   border="1">
                                <thead>
                                <tr  style="background-color:silver">
                                    <th class="mdl-data-table__cell--non-numeric">Na</th>
                                    <th class="mdl-data-table__cell--non-numeric">Dawa</th>
                                    <th class="mdl-data-table__cell--non-numeric">Kipimo Cha Ugavi</th>
                                    <th class="mdl-data-table__cell--non-numeric" colspan="3">Kiasi Cha Dawa Kilichotolewa kwa wagonjwa</th>
                                    <th class="mdl-data-table__cell--non-numeric">Jumla</th>

                                </tr>
                                <tr style="background-color:silver">
                                    <th class="mdl-data-table__cell--non-numeric"></th>
                                    <th class="mdl-data-table__cell--non-numeric"></th>
                                    <th class="mdl-data-table__cell--non-numeric"></th>
                                    <th class="mdl-data-table__cell--non-numeric"  >Umri Chini ya miaka 5</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >Umri  miaka 5 Hadi Miaka 59</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >Umri   miaka 60 Na zaidi</th>
                                    <th class="mdl-data-table__cell--non-numeric"></th>

                                </tr>
                                <tr  >
                                    <th class="mdl-data-table__cell--non-numeric" rowspan="4">1</th>
                                    <th class="mdl-data-table__cell--non-numeric">ALU ya 1x6</th>
                                    <th class="mdl-data-table__cell--non-numeric">Strip</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[0][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[0][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[0][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[0][0].total}}</th>

                                </tr> <tr  >

                                    <th class="mdl-data-table__cell--non-numeric">ALU ya 2x6</th>
                                    <th class="mdl-data-table__cell--non-numeric">Strip</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[1][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[1][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[1][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[1][0].total}}</th>

                                </tr><tr  >

                                    <th class="mdl-data-table__cell--non-numeric">ALU ya 3x6</th>
                                    <th class="mdl-data-table__cell--non-numeric">Strip</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[2][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[2][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[2][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[2][0].total}}</th>


                                </tr><tr  >

                                    <th class="mdl-data-table__cell--non-numeric">ALU ya 4x6</th>
                                    <th class="mdl-data-table__cell--non-numeric">Strip</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[3][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[3][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[3][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[3][0].total}}</th>


                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric">2</th>
                                    <th class="mdl-data-table__cell--non-numeric">Co-trimoxazile ya maji</th>
                                    <th class="mdl-data-table__cell--non-numeric">Chupa</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[4][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric" style="background-color:silver" ></th>
                                    <th class="mdl-data-table__cell--non-numeric" style="background-color:silver" ></th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[4][0].below_5}}</th>

                                </tr>
                                <tr >
                                    <th class="mdl-data-table__cell--non-numeric">3(a)</th>
                                    <th class="mdl-data-table__cell--non-numeric">Amoxycilin DT(250mg) x 10</th>
                                    <th class="mdl-data-table__cell--non-numeric">Strip</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[5][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric" style="background-color:silver" ></th>
                                    <th class="mdl-data-table__cell--non-numeric" style="background-color:silver" ></th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[5][0].below_5}}</th>

                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric">3(b)</th>
                                    <th class="mdl-data-table__cell--non-numeric">Amoxycilin DT(250mg) x 5</th>
                                    <th class="mdl-data-table__cell--non-numeric">Strip</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[6][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric" style="background-color:silver" ></th>
                                    <th class="mdl-data-table__cell--non-numeric" style="background-color:silver" ></th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[6][0].below_5}}</th>

                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric">4</th>
                                    <th class="mdl-data-table__cell--non-numeric">ORS</th>
                                    <th class="mdl-data-table__cell--non-numeric">Sachet</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[7][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[7][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[7][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[7][0].total}}</th>

                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric">5</th>
                                    <th class="mdl-data-table__cell--non-numeric">Zinc Sulphate</th>
                                    <th class="mdl-data-table__cell--non-numeric">Vidonge</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[8][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[8][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[8][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[8][0].total}}</th>

                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric"  rowspan="2">6</th>
                                    <th class="mdl-data-table__cell--non-numeric" rowspan="2">Mebendazole</th>
                                    <th class="mdl-data-table__cell--non-numeric">Vidonge 100mg</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[9][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[9][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[9][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[9][0].total}}</th>

                                </tr><tr >

                                    <th class="mdl-data-table__cell--non-numeric">Vidonge 500mg</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[10][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[10][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[10][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[10][0].total}}</th>



                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric"  rowspan="2">7</th>
                                    <th class="mdl-data-table__cell--non-numeric" rowspan="2">Albendazole</th>
                                    <th class="mdl-data-table__cell--non-numeric">Vidonge 200mg</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[11][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[11][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[11][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[11][0].total}}</th>


                                </tr><tr >

                                    <th class="mdl-data-table__cell--non-numeric">Vidonge 400mg</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[12][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[12][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[12][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[12][0].total}}</th>


                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric">8</th>
                                    <th class="mdl-data-table__cell--non-numeric">FEFO</th>
                                    <th class="mdl-data-table__cell--non-numeric">Vidonge</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[13][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[13][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[13][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[13][0].total}}</th>


                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric">9</th>
                                    <th class="mdl-data-table__cell--non-numeric">Folic Acid</th>
                                    <th class="mdl-data-table__cell--non-numeric">Vidonge</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[14][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[14][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[14][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[14][0].total}}</th>

                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric">10</th>
                                    <th class="mdl-data-table__cell--non-numeric">TLE</th>
                                    <th class="mdl-data-table__cell--non-numeric">Vidonge</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[15][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[15][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[15][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[15][0].total}}</th>

                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric">11</th>
                                    <th class="mdl-data-table__cell--non-numeric">Oxytocin</th>
                                    <th class="mdl-data-table__cell--non-numeric">Sindano</th>
                                    <th class="mdl-data-table__cell--non-numeric" style="background-color:silver" ></th>

                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[16][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[16][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[16][0].total}}</th>


                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric">12</th>
                                    <th class="mdl-data-table__cell--non-numeric">Deprovera</th>
                                    <th class="mdl-data-table__cell--non-numeric">Sindano</th>
                                    <th class="mdl-data-table__cell--non-numeric"  style="background-color:silver"></th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[17][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[17][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[17][0].total}}</th>

                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric">13</th>
                                    <th class="mdl-data-table__cell--non-numeric">SP</th>
                                    <th class="mdl-data-table__cell--non-numeric">Vidonge</th>
                                    <th class="mdl-data-table__cell--non-numeric"  style="background-color:silver"></th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[18][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[18][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[18][0].total}}</th>

                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric">14</th>
                                    <th class="mdl-data-table__cell--non-numeric">Magnesium Sulphate</th>
                                    <th class="mdl-data-table__cell--non-numeric">Sindano</th>
                                    <th class="mdl-data-table__cell--non-numeric"  style="background-color:silver"></th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[19][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[19][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[19][0].total}}</th>

                                </tr><tr >
                                    <th class="mdl-data-table__cell--non-numeric">15</th>
                                    <th class="mdl-data-table__cell--non-numeric">RHZ Rifampicin 150mg/isoniazide 75mg/pyrampicin 150mg/isoniazide </th>
                                    <th class="mdl-data-table__cell--non-numeric">Vidonge</th>

                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[20][0].below_5}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[20][0].between_5_59}}</th>
                                    <th class="mdl-data-table__cell--non-numeric"  >{{dispensed_items_groups[20][0].above_60}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{dispensed_items_groups[20][0].total}}</th>


                                </tr>

                                </thead>
                                <tbody>

                                </tbody>
                            </table>



                            <div   >

                            </div>
                        </div>

                        <!--//------------------ -->

                    </div>
                </vertical-tab-pane>
                <vertical-tab-pane title="TRACER MEDICINE REPORT">
                    <div style="overflow-x:scroll;max-width:960px;" >
                        <div class="pull-right">
                            <input type="datetime" ng-model="data.start_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="Start Date">
                            <input type="datetime"  ng-model="data.end_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="End Date">

                            <md-button   ng-click="tracer_medicines_report(data)" class="">Search</md-button>


                        </div>

                        <div id="tracer">
                            <b ng-click="PrintContent_tracer()" title="Print"
                               class="no-print "><b class="glyphicon glyphicon-print "></b> </b>
                            <center>   <b class="col-md-4">Jina la Kituo:&nbsp;&nbsp;&nbsp;
                                {{loginUserFacilityDetails[0].facility_name}}&nbsp;&nbsp;&nbsp; </b>
                                <b class="col-md-4">Wilaya :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].council_name}} &nbsp;&nbsp;&nbsp;</b>
                                <b class="col-md-4">Mkoa :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].region_name}} </b>

                                <hr></center>
                            <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" ng-if="tracers.length>0" flex="100">




                                <tr style="background-color:#c1c1c1">

                                    <th class="mdl-data-table__cell--non-numeric"> Na </th>
                                    <th class="mdl-data-table__cell--non-numeric">Maelezo</th>
                                    <th class="mdl-data-table__cell--non-numeric">Je Kituo
                                        kinatoa
                                        huduma hii?<p>
                                            1=ndio
                                            0=hapana</th>

                                    <th class="mdl-data-table__cell--non-numeric">Hali ya
                                        kiashiria/dawa
                                        ipo/haipo?<p>
                                            1=ndio
                                            0=hapana</th>
                                    <th class="mdl-data-table__cell--non-numeric">Kama haipo
                                        <p>A: Chini ya wiki moja<br />
                                            B: Wiki 1-4 <br />
                                            C:Zaidi ya mwezi mzima</p></th>
                                </tr>

                                <tr ng-repeat="tracer in tracers | filter:search track by $index">

                                    <th class="mdl-data-table__cell--non-numeric">{{$index + 1}}.</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{tracer.item_name}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{tracer.service_provision}}</th>
                                    <th class="mdl-data-table__cell--non-numeric">{{tracer.service_provision == 1 ? tracer.status : ''}}
                                    </th>
                                    <th title="{{tracer.days+' days'}}">
                                        {{
                                        tracer.service_provision == 1 && tracer.status ==0 && tracer.days <7 ? 'A' : tracer.service_provision == 1 && tracer.status ==0 && tracer.days >6 && tracer.service_provision == 1 && tracer.status ==0 && tracer.days <29 ? 'B': tracer.service_provision == 1 && tracer.status ==0 ? 'C' : ''
                                        }}
                                    </th>


                                </tr>

                            </table>
                        </div>
                    </div>
                </vertical-tab-pane>
                <vertical-tab-pane title="LEDGER">

                    <div style="overflow-x:scroll;max-width:960px;" >
                        <fieldset>
                            <div class="pull-right">
                                <input type="datetime" ng-model="data.start_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="Start Date">
                                <input type="datetime"  ng-model="data.end_date" datetime-picker   date-format="yyyy-MM-dd HH:mm:ss" placeholder="End Date">

                                <select ng-model="data.store_id" class="md-block" >
                                    <option selected disabled >Select Store</option>
                                    <option ng-repeat="store in main_stores" ng-value="{{store.id}}">{{store.store_name}}</option>
                                </select>

                                <md-button   ng-click="LedgerSearch(data)" class="">Search</md-button>
                                <md-input-container class="md-block">
                                    <input type="text" autocomplete="off" ng-model="search" class="md-block" placeholder="Quick Search......">

                                </md-input-container>
                            </div>


                            <div class=" ">
                                <div class="row">
                                    <div class="col-md-12 form-box">
                                        <form    >
                                            <fieldset>
                                                <div class=" ">

                                                    <div id='ledger' class="table">


                                                        <a ng-click="Print_ledger()"   title="Print" class="no-print   "><b class="glyphicon glyphicon-print "></b>  </a>
                                                        <b class="row table-responsive">
                                                            <table class="table table-bordered" border="1">
                                                                <caption> <b class="">
                                                                    <div class="text-center"> <h8>'SIRI'</h8></div>
                                                                    <div  class="text-center"><h8>JAMHURI YA MUUNGANO WA TANZANIA</h8></div>
                                                                    <div  class="text-center"><h8> WIZARA YA AFYA, MAENDELEO YA JAMII, JINSIA, WAZEE NA WATOTO  </h8></div>
                                                                    <div  class="text-center"> <img alt="image" class="img-circle" src="/img/arm.png" width="40px" height="40px" /></div>
                                                                    <div  class="text-center"> <h8>  MFUMO WA TAARIFA ZA UENDESHAJI WA HUDUMA ZA AFYA</h8></div>
                                                                    <div  class="text-center"><h8> <i> MTUHA TOLEO LA TATU: MWAKA 2014</i></h8></div>
                                                                    <div  class="text-center"> <h5>  KITABU CHA 4: LEJA</h5></div>

                                                                    <hr>

                                                                    <b class="col-md-4">Jina la Kituo....  {{loginUserFacilityDetails[0].facility_name}}     ........................ </b>
                                                                    <b class="col-md-4">Wilaya........ {{loginUserFacilityDetails[0].council_name}} ....................  </b>
                                                                    <b class="col-md-4">Mkoa............... {{loginUserFacilityDetails[0].region_name}} ............... </b>

                                                                    <hr>
                                                                </b></caption>



                                                                <tr style="background-color:#c1c1c1">

                                                                    <th >s/n </th>
                                                                    <th >Tarehe </th>
                                                                    <th >Kumbukumbu za kuagizia/kutoa</th>
                                                                    <th >Kiasi kilichopokelewa</th>

                                                                    <th  >Kiasi kilichotolewa</th>
                                                                    <th  >Marekebisho (Upotevu,kurudishwa)</th>
                                                                    <th  >Kiasi kilichopo</th>
                                                                    <th  >Maelezo</th>

                                                                </tr>



                                                                <tr  ng-repeat="ledger0 in ledgers |filter:search track by $index">


                                                                    <th   >{{$index+1}}</th>
                                                                    <th   >{{ledger0.created_at| date:'yyyy-MM-dd'}}</th>
                                                                    <th  >{{ledger0.item_name}}<p title='Batch Number'>({{ledger0.batch_no}})</th>
                                                                    <th >{{ledger0.kilichopokelewa | currency:" "}}</th>
                                                                    <th  >{{ledger0.kilichotolewa | currency:" "}}</th>
                                                                    <th >{{ledger0.marekebisho | currency:" "}}</th>
                                                                    <th  >{{ledger0.kilichopo | currency:" "}}</th>

                                                                    <th></th>
                                                                </tr>



                                                            </table>




                                                        </b>
                                                    </div>
                                                </div>
                                            </fieldset>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>


                </vertical-tab-pane>
                <vertical-tab-pane title="BIN CARD">
                    <strong class="pull-right">
                        <strong ng-if="data.store_id<1">Please Choose Store To View Items BIN CARD</strong>
                        <strong > <input type="text" ng-model="search" placeholder="Filter item here"></strong>

                        <select ng-model="data.store_id" class="md-block"  ng-change="LoadbinCardData(data.store_id)">
                            <option selected disabled >Select Store</option>
                            <option selected > </option>
                            <option ng-repeat="store in main_stores" ng-value="{{store.id}}">{{store.store_name}}</option>
                        </select>

                    </strong>


                    <table     class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" ng-if="data.store_id>0">
                        <thead>
                        <tr style="background-color: beige">
                            <th class="mdl-data-table__cell--non-numeric">s/n</th>
                            <th class="mdl-data-table__cell--non-numeric" colspan="2">Item</th>

                        </tr>
                        <tr ng-repeat="bin_card in bin_cards |filter:search track by $index">
                            <th class="mdl-data-table__cell--non-numeric">{{$index +1}}</th>
                            <th class="mdl-data-table__cell--non-numeric">{{bin_card.item_name}}</th>
                            <th class="mdl-data-table__cell--non-numeric" ng-click="single_item_issue_voucher(bin_card,data.store_id)"> <button >View Bin Card</button></th>

                        </tr>
                        </thead>
                    </table>

                </vertical-tab-pane>


                <vertical-tab-pane title="EXPIRED ITEMS" ng-click="expired()">
                    <div style="overflow-x:scroll;max-width:960px;" >
                        <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->

                        <md-button class="md-raised md-primary" ng-if="!expires" ng-click="expired()">Click Here To View</md-button>
                        <md-button class="md-raised md-warn" ng-if="expires.length<1" ng-click="expired()">No Record found</md-button>
                        <div id="expierd">
                            <b ng-click="PrintContent_expierd()" title="Print"
                               class="no-print "><b class="glyphicon glyphicon-print "></b> </b>
                            <center>   <b class="col-md-4">Jina la Kituo:&nbsp;&nbsp;&nbsp;
                                {{loginUserFacilityDetails[0].facility_name}}&nbsp;&nbsp;&nbsp; </b>
                                <b class="col-md-4">Wilaya :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].council_name}} &nbsp;&nbsp;&nbsp;</b>
                                <b class="col-md-4">Mkoa :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].region_name}} </b>

                            </center><hr><center>EXPIRED ITEMS</center>

                            <table     class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" ng-if="expires.length>0">
                                <thead>
                                <tr style="background-color: beige">
                                    <th class="mdl-data-table__cell--non-numeric">s/n</th>
                                    <th class="mdl-data-table__cell--non-numeric">Item</th>
                                    <th class="mdl-data-table__cell--non-numeric">Batch #</th>
                                    <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                                    <th class="mdl-data-table__cell--non-numeric">Expiry Date</th>
                                    <!--<th class="mdl-data-table__cell--non-numeric">Duration since Expired</th>-->
                                </tr>
                                </thead>
                                <tbody>
                                <tr   ng-repeat="rec in expires    | filter:search track by $index">
                                    <td class="mdl-data-table__cell--non-numeric">{{$index+1}}</td>
                                    <td class="mdl-data-table__cell--non-numeric">{{rec.item_name}}</td>
                                    <td class="mdl-data-table__cell--non-numeric">{{rec.batch_no}}</td>
                                    <td class="mdl-data-table__cell--non-numeric">{{rec.quantity}}</td>
                                    <td class="mdl-data-table__cell--non-numeric">{{rec.expiry_date}}</td>
                                    <!--<td class="mdl-data-table__cell--non-numeric" ng-if="rec.expirydate>=0">{{rec.expirydate}} Month(s)</td>
                                    <td class="mdl-data-table__cell--non-numeric" ng-if="rec.expirydate<0">{{-rec.expirydate}} Month(s) ago</td>-->

                                </tr>
                                </tbody>
                            </table>


                        </div>


                        <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->

                    </div>
                </vertical-tab-pane>

            </vertical-tabs>

            <md-tab label="FINANCE REPORTS">


                <div style="overflow-x:scroll;max-width:960px;" >
                    <div layout="row">
                        <md-input-container>
                            <label>Choose Start Date</label>
                            <input ng-model="dept.start" datetime-picker date-format="yyyy-MM-dd HH:mm:ss"/>
                        </md-input-container>
                        <md-input-container>
                            <label>Choose End Date</label>
                            <input ng-model="dept.end" datetime-picker date-format="yyyy-MM-dd HH:mm:ss"/>
                        </md-input-container>
                        <md-input-container>
                            <md-button class="md-raised md-primary" ng-click="getDetailedReportsdepartmentally(dept)">Search</md-button>
                        </md-input-container>
                        <md-input-container>
                            <md-button class="md-raised md-primary" ng-if="cashdetailedData"
                                       ng-click="pharmacashprint()">
                                Print
                            </md-button>
                    </div>
                    <div >


                        <md-input-container class="md-block">
                            <input type="text" autocomplete="off" ng-model="search" class="md-block" placeholder="Quick Search......">
                        </md-input-container>
                        <div id="pharmcash_id">
                            <table  class="table-responsive"  style="border:thin solid white; width:100%" >
                                <tr style="background-color:white">
                                    <td align='center' style="border-right: thin dotted black;border-bottom: thin dotted black;">
                                        <div>
                                            <div layout="row" layout-align="space-between center">
                                                <div flex>
                                                    <img style="float:left;" height="80" width="80" src="/img/arm.png"/>
                                                </div>
                                                <div flex>
                                                    <center>
                                                        <h3 class="md-title">{{cardTitle.facility_name}}
                                                            {{cardTitle.description}}</h3>
                                                    </center>
                                                    <center>
                                                        <h4 class="md-subhead">{{cardTitle.address}}</h4>
                                                    </center>

                                                </div>
                                                <div flex>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr style="background-color:white">
                                    <td style="border-right: thin dotted black;border-bottom: thin dotted black;">
                                        <div flex="100" layout="row" layout-padding>
                                            <div flex="50">
                                                <dt>Start</dt>
                                                <dd>{{dept.start}}</dd>
                                            </div>
                                            <div flex="50">
                                                <dt>End</dt>
                                                <dd>{{dept.end}}</dd>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr style="background-color:white">
                                    <td>

                                        <!-- the actual content -->
                                        <div flex="100" layout="row" layout-align="space-between center">




                                            <div>
                                                <h4>Generated on {{department_report_generated_on}}</h4>
                                                <h4>Generated by {{currentUser.name}}</h4>

                                            </div>
                                        </div>

                                        <table class="table-responsive"  style="border:thin solid black; width:100%"
                                               width="100%" ng-if="cashdetailedData.length>0">
                                            <caption> <h3>Pharmacy Cash Collection Finance Report</h3>
                                                <p></p>
                                                <h4> Grand Total : {{cashdetailedTotal | currency: 'Tshs. ' :2}}</h4>
                                            </caption>
                                            <thead>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">s/n</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">MRN</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">Item</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">Unit Price</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">Quantity</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">Cost</th>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat="dpt in cashdetailedData |filter:search track by $index">
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{$index+1}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.medical_record_number}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.item_name}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.total_items}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.price | currency: 'Tshs. ' :2}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.sub_total | currency: 'Tshs. ' :2}}</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <table class="table-responsive"  style="border:thin solid black; width:100%"
                                               width="100%" ng-if="insurancedetailedData.length>0">
                                            <caption> <h3>Pharmacy Insurance  Finance Report</h3>
                                                <p></p>
                                                <h4> Grand Total : {{insurancedetailedTotal | currency: 'Tshs. ' :2}}</h4>
                                            </caption>
                                            <thead>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">s/n</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">MRN</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">Item</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">Unit Price</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">Quantity</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">Cost</th>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat="dpt in insurancedetailedData |filter:search track by $index">
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{$index+1}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.medical_record_number}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.item_name}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.total_items}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.price | currency: 'Tshs. ' :2}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.sub_total | currency: 'Tshs. ' :2}}</td>
                                            </tr>


                                            </tbody>
                                        </table>
                                        <table class="table-responsive"  style="border:thin solid black; width:100%"
                                               width="100%" ng-if="exemptiondetailedData.length>0">
                                            <caption> <h3>Pharmacy Exemption  Finance Report</h3>
                                                <p></p>
                                                <h4> Grand Total : {{exemptiondetailedTotal | currency: 'Tshs. ' :2}}</h4></caption>
                                            <thead>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">s/n</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">MRN</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">Item</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">Unit Price</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">Quantity</th>
                                            <th style="border-right: thin dotted black;border-bottom: thin dotted black;">Cost</th>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat="dpt in exemptiondetailedData |filter:search track by $index">
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{$index+1}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.medical_record_number}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.item_name}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.total_items}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.price | currency: 'Tshs. ' :2}}</td>
                                                <td style="border-right: thin dotted black;border-bottom: thin dotted black;">{{dpt.sub_total | currency: 'Tshs. ' :2}}</td>
                                            </tr>
                                            </tbody>
                                        </table>

                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </md-tab>
            <md-tab label="REQUISITIONS">

                <vertical-tabs>
                    <vertical-tab-pane title="INCOMING REQUISITIONS">
                        <div style="overflow-x:scroll;max-width:960px;" >
                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                            <div class="pull-right" ng-if="item_orders.length >0" >
                                <form>

                                    Orders<sup class="badge"> {{item_orders.length}} </sup>

                                </form>
                            </div>
                            <div >
                                <div class="row">
                                    <div class="col-md-12 form-box">



                                        <form  >
                                            <fieldset>

                                                <div class="">
                                                    <md-input-container class="md-block">
                                                        <input type="text" autocomplete="off" ng-model="search" class="md-block" placeholder="Quick Search......">
                                                    </md-input-container>
                                                    <h3 ng-if="Vieworders.id"><span><i class="fa fa-list-alt" aria-hidden="true"></i></span> PROCESS REQUISITION FOR {{Vieworders.requesting_store_name}}</h3>

                                                </div>

                                                <div class="">

                                                    <div ng-if="item_orders.length <1">
                                                        NO Order or Requistion placed yet.......
                                                    </div>

                                                    <table   width="800px" border=1 class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="80%" ng-if="!Vieworders.id" flex="80" >


                                                        <thead ng-if="item_orders.length != 0" style="background-color: beige">

                                                        <tr >
                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                No

                                                            </td>

                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                Code



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                Item



                                                            </td>

                                                            <td class="mdl-data-table__cell--non-numeric" ng-click="sort('requesting_store_name')">

                                                                From



                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                Quantity



                                                            </td>


                                                            <td class="mdl-data-table__cell--non-numeric" ng-click="sort('store_name')">

                                                                To



                                                            </td>

                                                            <td class="mdl-data-table__cell--non-numeric" ng-click="sort('created_at')">

                                                                Date

                                                            </td>

                                                        </tr>
                                                        </thead>

                                                        <tbody>
                                                        <tr ng-repeat="item in item_orders     | filter:search track by $index" >
                                                            <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>
                                                            <td class="mdl-data-table__cell--non-numeric">  {{item.item_code}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric">  {{item.item_name}}  </td>

                                                            <td class="mdl-data-table__cell--non-numeric">  {{item.requesting_store_name}}  </td>
                                                            <td class="mdl-data-table__cell--non-numeric">  {{item.requested_amount}}  </td>

                                                            <td class="mdl-data-table__cell--non-numeric">  {{item.store_name}}  </td>



                                                            <td class="mdl-data-table__cell--non-numeric">  {{item.created_at}}  </td>

                                                            <td class="mdl-data-table__cell--non-numeric">  <md-button ng-click="Vieworder(item)" class="md-raised md-primary fa fa-send" title="Issue">Issue</md-button> </td>




                                                        </tbody>

                                                    </table>



                                                    <div ng-if="Vieworders.id">




                                                        <!--issuing order part-->


                                                        <div class="form-bottom">
                                                            <div class="row">
                                                                <md-input-container class="md-block col-md-6 col-md-4">
                                                                    <label> Item Name</label>

                                                                    <input type="text"  title="{{Vieworders.item_name}}"  class="md-block reg" disabled typeahead-on-select="loadBatch(item_issue.selectedItem.item_id)" ng-model="item_issue.selectedItem" ng-value="Vieworders.item_name" placeholder="Search Item " uib-typeahead ="item as item.item_name  for item in showItem($viewValue)  | filter:$viewValue">

                                                                </md-input-container>
                                                                <md-input-container class="md-block col-md-6 col-md-4" >

                                                                    <label>Batch Number</label>
                                                                    <input type="text"  class="md-block " typeahead-on-select="loadBatchBalance(item_issue.selectedBatch.batch_no,item_issue.selectedBatch.store_id,item_issue.selectedBatch.item_id)" ng-model="item_issue.selectedBatch" placeholder="Search Item Batch Number " uib-typeahead ="batch as batch.batch_no +' ' +'Store' +' '+batch.store_name   for batch in batches  | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                                           class="md-block" typeahead-show-hint="true" typeahead-min-length="0">
                                                                    <b ng-if="!batchesbalances" style="color: maroon;" >Choose Batch Number</b>
                                                                    <b style="color:navy" role="info"ng-if="item_issue.selectedBatch"> <b >BALANCE:  &nbsp;&nbsp;&nbsp;</b>
                                                                        <b ng-if="item_receive.selectedInvoice && item_receive.selectedInvoice.length >=4 && !item_receive.selectedInvoice.id"></b>
                                                                        {{batchesbalances[0].quantity}} &nbsp;&nbsp;&nbsp; {{item_issue.selectedBatch.store_name}}
                                                                    </b>


                                                                </md-input-container>
                                                            </div>
                                                            <div class="row">
                                                                <md-input-container class="md-block col-md-6 col-md-4">
                                                                    <label>Requested Quantity</label>
                                                                    <input disabled type="" class="md-block" min="0" title="{{Vieworders.requesting_store_name}} Requesting Quantity [{{Vieworders.requested_amount}}]" ng-value="Vieworders.requested_amount"  ng-model="item_issue.quantity2">
                                                                    <b ng-if="item_issue.quantity<0" style="color:maroon" role="remove"> Issuing Quantity Can not Be Negative value</b>
                                                                </md-input-container>
                                                                <md-input-container class="md-block col-md-6 col-md-4">
                                                                    <label>Issued Quantity</label>
                                                                    <input type="number" class="md-block" min="0"  ng-model="item_issue.quantity">
                                                                    <b ng-if="item_issue.quantity<0" style="color:maroon" role="remove"> Issuing Quantity Can not Be Negative value</b>
                                                                </md-input-container>



                                                            </div>

                                                            <div class="row">

                                                                <md-input-container class="md-block col-md-6 col-md-4">

                                                                    <label> Requesting Store</label>
                                                                    <input type="text"  class="md-block" title="Requesting Store[{{Vieworders.requesting_store_name}}]" disabled ng-value="Vieworders.requesting_store_name" typeahead-on-select="" ng-model="item_issue.selectedStore"   uib-typeahead ="store as store.store_name  for store in stores  | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                                           class="md-block" typeahead-show-hint="true" typeahead-min-length="0">


                                                                </md-input-container>

                                                                <md-input-container class="md-block col-md-6 col-md-4">
                                                                    <label> Transaction Type</label>
                                                                    <md-select ng-model="item_issue.transaction_type_id" class="md-block" >
                                                                        <md-option ng-repeat="transtype in transtypes" ng-value="transtype.id">{{transtype.transaction_type}}</md-option>
                                                                    </md-select>
                                                                </md-input-container>

                                                            </div>



                                                            <div class="row">
                                                                <md-input-container class="md-block">
                                                                    <b  style="color:maroon" role="info"  ng-if="batchesbalances[0].quantity && batchesbalances[0].quantity - item_issue.quantity < 0 "> No enough quantity for the selected item batch number or Choose another item batch number </b>
                                                                    <b  style="color:maroon" role="info"  ng-if="item_issue.selectedStore.id && item_issue.selectedBatch.store_id == item_issue.selectedStore.id"> Oops!!! You can not Issue item within a same store.... </b>
                                                                    <md-button  class="md-raised md-primary " ng-click="order_issuing(item_issue,Vieworders)" ng-if="item_issue.quantity && item_issue.selectedBatch.store_id != item_issue.selectedStore.id && batchesbalances[0].quantity - item_issue.quantity >=0">Register</md-button>

                                                                </md-input-container>
                                                                <div class="md-block">
                                                                    <b ng-click="Cancelorder() " > <md-button class="md-raised md-danger fa fa-remove">Cancel</md-button>  </b>

                                                                </div>



                                                            </div>


                                                        </div>



                                                        <!--issuing order part-->



                                                    </div>


                                                </div>
                                            </fieldset>
                                        </form>
                                    </div>
                                </div>
                            </div>


                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->

                        </div>

                    </vertical-tab-pane>

                    <vertical-tab-pane title="CREATE REQUISITIONS">
                        <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->
                        <div style="overflow-x:scroll;max-width:960px;" >

                            <!--Test-->
                            <script type="text/ng-template" id="customTemplate.html">
                                <a>

                                    <span ng-bind-html="match.label | uibTypeaheadHighlight:query"></span>
                                </a>
                            </script>

                            <div >
                                <div class="row">
                                    <div class="col-md-12 form-box">
                                        <form  >
                                            <fieldset>

                                                <div class=" ">

                                                    <md-input-container class="md-block col-md-3 col-sm-4">
                                                        <label> Item Name</label>

                                                        <input type="text" id="itm3" class="md-block" typeahead-on-select="" ng-model="order.selectedItem"   uib-typeahead ="item as item.item_name  for item in showSearch($viewValue)  | filter:$viewValue"
                                                               typeahead-template-url="customTemplate.html"
                                                               class="md-block" typeahead-show-hint="true" typeahead-min-length="0">

                                                    </md-input-container>
                                                    <md-input-container class="md-block col-md-3 col-sm-4">
                                                        <label> Quantity Requesting</label>
                                                        <input type="number" id="itm4" class="md-block" min="0"  ng-model="order.quantity">
                                                        <b ng-if="order.quantity<0" style="color:maroon" role="remove"> Issuing Quantity Can not Be Negative value</b>

                                                    </md-input-container>
                                                    <md-input-container class="md-block col-md-3 col-sm-4">
                                                        <label> Request To</label>
                                                        <input type="text"  class="md-block" typeahead-on-select="" ng-model="order.selectedStoreRequestReceiver"   uib-typeahead ="store as store.store_name  for store in main_stores  | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                               class="md-block" typeahead-show-hint="true" typeahead-min-length="0">

                                                    </md-input-container>




                                                    <md-input-container class="md-block col-md-3 col-sm-4">
                                                        <label> Request From</label>
                                                        <input type="text"  class="md-block" typeahead-on-select="" ng-model="order.selectedStoreRequestSender"  uib-typeahead ="store as store.store_name  for store in stores  | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                               class="md-block" typeahead-show-hint="true" typeahead-min-length="0">
                                                        <b  style="color:maroon" role="info"  ng-if="order.selectedStoreRequesting.store_id && order.selectedStoreRequesting.id == order.selectedStoreRequested.id"> Oops!!! You can not Issue item within a same store.... </b>
                                                        <b style="color:maroon" role="remove" ng-if=" order.selectedStoreRequestReceiver.id && order.selectedStoreRequestSender.id == order.selectedStoreRequestReceiver.id">
                                                            You can not Request item From similar Store..
                                                        </b>

                                                    </md-input-container>




                                                    <div class="md-block  col-sm-4">
                                                        <md-button class="md-raised md-primary pull-right" ng-click="pharmacy_item_list_requisition(order)"  ng-if="order.quantity"  >ADD TO LIST</md-button>
                                                    </div>

                                                    <div>

                                                        <table ng-if="items_array_requisitions.length>0" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">
                                                            <thead style="background-color: beige">
                                                            <tr>
                                                                <th class="mdl-data-table__cell--non-numeric">#</th>
                                                                <th class="mdl-data-table__cell--non-numeric">Name</th>
                                                                <th class="mdl-data-table__cell--non-numeric">Form</th>
                                                                <th class="mdl-data-table__cell--non-numeric">To</th>
                                                                <th class="mdl-data-table__cell--non-numeric">Quantity</th>

                                                                <th class="mdl-data-table__cell--non-numeric"> </th>

                                                            </tr>

                                                            </thead>
                                                            <tbody>
                                                            <tr ng-repeat="array in items_array_requisitions track by $index">
                                                                <td class="mdl-data-table__cell--non-numeric">{{$index + 1}}</td>
                                                                <td class="mdl-data-table__cell--non-numeric">{{array.item_name}}</td>
                                                                <td class="mdl-data-table__cell--non-numeric">{{array.from}}</td>
                                                                <td class="mdl-data-table__cell--non-numeric">{{array.store_name}}</td>
                                                                <td class="mdl-data-table__cell--non-numeric">{{array.quantity}}</td>

                                                                <td ><a   ng-click="removeItemArray_requisition($index)" style="color:maroon" title="Remove from list">Remove</a></td>


                                                            </tr>
                                                            </tbody>
                                                        </table>

                                                    </div>

                                                    <md-button ng-if="items_array_requisitions.length>0" class="md-raised md-primary" ng-click="main_store_item_ordering()" >SAVE</md-button>

                                                </div>



                                            </fieldset>
                                        </form>
                                    </div>
                                </div>
                            </div>


                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->

                        </div>

                    </vertical-tab-pane>



                </vertical-tabs>


                <md-tab label="SETTINGS">

                    <vertical-tabs>
                        <vertical-tab-pane title="CREATE A NEW STORE">

                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


                            <div >
                                <div class="row">
                                    <div class="col-md-12 form-box">
                                        <form  >
                                            <fieldset>

                                                <div class="">







                                                    <div class="row col-md-12">

                                                        <md-input-container class="md-block col-md-6 col-md-4">
                                                            <label> Store name</label>
                                                            <input type="text" class="md-block"   ng-model="store.store_name">
                                                            <p></p>


                                                        </md-input-container>
                                                        <md-input-container class="md-block col-md-6 col-md-4">

                                                            <label> Store Type</label>
                                                            <md-select ng-model="store.store_type_id" class="form md-block">
                                                                <md-option ng-value="store_type.id" ng-repeat="store_type in storetypes">{{store_type.store_type_name}}</md-option>
                                                            </md-select>


                                                        </md-input-container>



                                                        <md-button class="md-raised md-primary" ng-click="store_registration(store)" >Register</md-button>


                                                    </div>


                                                </div>




                                                <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" >

                                                </table>
                                            </fieldset>

                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


                        </vertical-tab-pane>

                        <vertical-tab-pane title="CREATE A NEW VENDOR">
                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                            <div >
                                <div class="row">
                                    <div class="col-md-12 form-box">
                                        <form  >
                                            <fieldset>

                                                <div class="form-bottom">



                                                    <div class="row col-md-12">
                                                        <md-input-container class="md-block col-md-6 col-md-4">
                                                            <label> Vendor Name</label>
                                                            <input type="text" class="md-block"  ng-model="vendor.vendor_name">
                                                            <p></p>


                                                        </md-input-container>
                                                        <md-input-container class="md-block col-md-6 col-md-4">
                                                            <label> Vendor Address</label>
                                                            <input type="text" class="md-block"   ng-model="vendor.vendor_address">
                                                            <p></p>


                                                        </md-input-container>




                                                    </div>
                                                    <div class="row col-md-12">

                                                        <md-input-container class="md-block col-md-6 col-md-4">
                                                            <label> Vendor phone number</label>
                                                            <input type="text" class="md-block"   ng-model="vendor.vendor_phone_number">
                                                            <p></p>


                                                        </md-input-container>
                                                        <md-input-container class="md-block col-md-6 col-md-4">
                                                            <label> Vendor Contact Person</label>
                                                            <input type="text" class="md-block"   ng-model="vendor.vendor_contact_person">
                                                            <p></p>


                                                        </md-input-container>
                                                        <div class="md-block col-md-6 col-md-4">

                                                            <md-button class="md-raised md-primary" ng-click="vendor_registration(vendor)" >Register</md-button>


                                                        </div>


                                                    </div>






                                                    <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" >

                                                    </table>
                                                </div>
                                            </fieldset>
                                        </form>
                                    </div>
                                </div>
                            </div>



                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->





                        </vertical-tab-pane>


                        <vertical-tab-pane title="CREATE A NEW INVOICE">
                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->

                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                            <div >
                                <div class="row">
                                    <div class="col-md-12 form-box">
                                        <form  >
                                            <fieldset>

                                                <div class="form-bottom">



                                                    <md-input-container class="md-block col-md-6 col-md-4">
                                                        <label> Invoice number</label>
                                                        <input type="text" class="md-block" placeholder="Enter  Invoice number" ng-model="invoice.invoice_number">
                                                        <p></p>

                                                    </md-input-container>
                                                    <md-input-container class="md-block col-md-6 col-md-4">
                                                        <label> Vendor Name</label>
                                                        <md-select ng-model="invoice.vendor_id"  class=" md-block">
                                                            <md-option ng-repeat="vendor in vendors" ng-value="vendor.id">{{vendor.vendor_name}}</md-option>
                                                        </md-select>


                                                    </md-input-container>
                                                    <div class="md-block col-md-8 col-sm-4">

                                                        <md-button class="md-raised md-primary" ng-click="invoice_registration(invoice)" >Save</md-button>


                                                    </div>



                                                    <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" >

                                                    </table>

                                                </div>
                                            </fieldset>
                                        </form>
                                    </div>
                                </div>
                            </div>



                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



                        </vertical-tab-pane>
                        <vertical-tab-pane title="STORES ACCESS ">
                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                            <form >
                                <md-input-container class="md-block col-md-6 col-md-4">

                                    <input type="text"  class="md-block " typeahead-on-select="SelectedUserWithStroreAccess(selectedUser.id)" ng-model="selectedUser"  uib-typeahead ="user as user.name +''+user.mobile_number+' '+user.email for user in SearchUser($viewValue)  | filter:$viewValue" placeholder="Search User to assign Store to Access"  >


                                </md-input-container>


                            </form>
                            <div >
                                <div class="row">
                                    <div class="col-md-12 form-box">
                                        <div class="col-md-6">
                                            <form   >
                                                <fieldset>
                                                    <div class=" ">
                                                        <div class="form-top-left">
                                                            <b><span><i class="fa fa-gear" aria-hidden="true"></i></span>STORE PER USER CONFIGURATION</b>

                                                        </div>
                                                    </div>
                                                    <div  >


                                                        <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp"  flex="50"  >


                                                            <thead style="background-color: beige">

                                                            <tr>
                                                                <td class="mdl-data-table__cell--non-numeric">

                                                                    No

                                                                </td>

                                                                <td class="mdl-data-table__cell--non-numeric">

                                                                    Store Name



                                                                </td>
                                                                <td class="mdl-data-table__cell--non-numeric">

                                                                    Store Type



                                                                </td>

                                                                <td class="mdl-data-table__cell--non-numeric">

                                                                    Check/Tick

                                                                </td>
                                                            </tr>
                                                            </thead>

                                                            <tbody>

                                                            <tr ng-repeat="store_user in storesListToconfigure   | filter:search track by $index">
                                                                <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>

                                                                <td class="mdl-data-table__cell--non-numeric"><b  >{{ store_user.store_name }}</b>

                                                                </td>
                                                                <td class="mdl-data-table__cell--non-numeric"><b  >{{ store_user.store_type_name }}</b>

                                                                </td>

                                                                <td class="mdl-data-table__cell--non-numeric">
                                                                    <form >  <md-checkbox class="md-block" ng-click="populateInArray(store_user,selectedUser)"  ng-model="store_user.value1"  ><span></span> </md-checkbox></form>

                                                                </td>

                                                                <!--<td class="mdl-data-table__cell--non-numeric">{{ region.tastiness }}</td>-->
                                                            </tr>
                                                            <tr>
                                                                <th colspan="4">
                                                                    <md-button class="md-raised md-primary" data-toggle="tooltip" title="Click to save" ng-click="store_user_configure()">Save</md-button>

                                                                </th>
                                                            </tr>
                                                            </tbody>

                                                        </table>


                                                        <table class=" table table-bordered">
                                                            <tr ng-if="User_store_populate.length >0">
                                                                <th class="mdl-data-table__cell--non-numeric" >User name</th>
                                                                <th class="mdl-data-table__cell--non-numeric" >store  name</th>
                                                            </tr>
                                                            <tr ng-repeat="User in User_store_populate">
                                                                <td >{{User.user_name}}</td>
                                                                <td >{{User.store_name}}</td>
                                                                <td ><a   ng-click="removeItem($index)">X</a></td>
                                                            </tr>
                                                        </table>

                                                    </div>


                                                </fieldset>
                                            </form>
                                        </div>
                                        <div class="col-md-6" ng-if="access_givens.length>0" flex="50">
                                            <div class=" ">
                                                <div class="form-top-left">
                                                    <b><span><i class="fa fa-gear" aria-hidden="true"></i></span>STORE GIVEN ACCESS</b>

                                                </div>
                                            </div>

                                            <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%"   >


                                                <thead style="background-color: beige">

                                                <tr>
                                                    <td class="mdl-data-table__cell--non-numeric">

                                                        No

                                                    </td>

                                                    <td class="mdl-data-table__cell--non-numeric">

                                                        Store Name



                                                    </td>


                                                    <td class="mdl-data-table__cell--non-numeric" title="Authority Of Using Store Items for Issuing or Dispensing">

                                                        Authority

                                                    </td>
                                                    <td class="mdl-data-table__cell--non-numeric">

                                                        Remove

                                                    </td>
                                                </tr>
                                                </thead>

                                                <tbody>

                                                <tr ng-repeat="access_given in access_givens  | filter:search track by $index">
                                                    <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>

                                                    <td class="mdl-data-table__cell--non-numeric"><b  >{{ access_given.store_name }}</b>

                                                    </td>


                                                    <td class="mdl-data-table__cell--non-numeric" title="Authority Of Using Store Items for Issuing or Dispensing">
                                                        <md-button class="md-block" ng-click="Authority_user_store_access(access_given.access_id)"  ng-model="store_user.value1"  ><span></span> Authority </md-button>

                                                    </td>
                                                    <td class="mdl-data-table__cell--non-numeric">
                                                        <md-button class="md-block" ng-click="Remove_user_store_access(access_given.access_id)"  ng-model="store_user.value1"  ><span></span> Remove </md-button>

                                                    </td>

                                                    <!--<td class="mdl-data-table__cell--non-numeric">{{ region.tastiness }}</td>-->
                                                </tr>

                                                </tbody>

                                            </table>

                                        </div>


                                    </div>
                                </div>
                            </div>


                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



                        </vertical-tab-pane>
                        <vertical-tab-pane title="TRACER MEDICINES">
                            <md-tabs md-dynamic-height md-border-bottom>
                                <md-tab label="UWEPO WA HUDUMA">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="col-md-12 form-box">
                                                <form>
                                                    <table style="border: thin solid black">
                                                        <tr style="border-bottom: thin dotted black;">
                                                            <th style="border-right: thin dotted black;">Sno</th>
                                                            <th style="border-right: thin dotted black;">Item</th>
                                                            <th style="border-right: thin dotted black;">Je, Kituo kinatoa huduma hii?</th>
                                                            <th style="">Set</th>
                                                        </tr>
                                                        <tr id="tr_{{tracer.id}}" style="border-bottom: thin dotted black;" ng-repeat="tracer in tracer_items">
                                                            <td style="border-right: thin dotted black;">{{tracer.id}}.</td>
                                                            <td style="border-right: thin dotted black;">{{tracer.item_name}}.</td>
                                                            <td style="border-right: thin dotted black;">{{tracer.status==1 ? 'Yes' : 'No'}}</td>
                                                            <td style="">
                                                                <select id="stat_{{tracer.id}}" onchange="flag(this)">
                                                                    <option value="0">No</option>
                                                                    <option value="1">Yes</option>
                                                                </select>
                                                            </td>
                                                        </tr>
                                                        <tr><td colspan="4">
                                                            <button type="button" class="btn btn-default" style="width:100%;font-family:book antiqua;font-weight:bold;font-size:16px" ng-click="saveTracerStatus()">
                                                                SAVE STATUS OF ITEMS</button>
                                                        </td></tr>
                                                    </table>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </md-tab>
                                <md-tab label="VIPENGELE">
                                    <div class="col-md-12">
                                        <table style="border: thin solid black">
                                            <tr style="border-bottom: thin solid black;">
                                                <th style="border-right: thin solid black;">Sno</th>
                                                <th style="border-right: thin solid black;">Item</th>
                                                <th style="border-right: thin solid black;">Add</th>
                                            </tr>
                                            <tr style="border-bottom: thin solid black;" ng-repeat="tracer in tracer_items track by $index">
                                                <td style="border-right: thin solid black;">{{tracer.id}}.</td>
                                                <td style="border-right: thin solid black;">{{tracer.item_name}}
                                                    <hr />
                                                    <table>
                                                        <tr style="border-bottom: thin dotted black;" ng-repeat="mapping in tracer.mappings">
                                                            <td style="border-right: thin dotted black;">
                                                                {{mapping.item.item_name}}.
                                                            </td>
                                                            <td style="">
                                                                <button type="button" class="btn btn-default" style="width:100%;font-family:book antiqua;font-weight:bold;font-size:16px" ng-click="removeFromTracerMapping($index,mapping)">X</button>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                                <td style="border-right: thin solid black;">
                                                    <form>
                                                        <md-input-container class="md-block   col-md-12 col-sm-6">
                                                            <label> Search Item </label>
                                                            <input type="text"  class="md-block" typeahead-on-select="addMapping(mappings.selectedItem)" ng-model="mappings.selectedItem" uib-typeahead ="item as item.item_name  for item in showSearch($viewValue)  | filter:$viewValue">
                                                        </md-input-container>
                                                        <span style="font-style:italic;background-color:light-gray" ng-repeat="item in mappings.items track by $index" ng-click="removeMapping($index)">{{item.item_name}}<br ></span>
                                                        <button type="button" class="btn btn-default" style="width:100%;font-family:book antiqua;font-weight:bold;font-size:16px" ng-click="saveMapping(tracer.id,mappings.items)">
                                                            SAVE</button>
                                                    </form>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </md-tab>
                                <md-tab label="ITEM DISPENSED GROUP MAPPING">
                                    <div class="col-md-12">
                                        <table style="border: thin solid black">
                                            <tr style="border-bottom: thin solid black;">
                                                <th style="border-right: thin solid black;">Sno</th>
                                                <th style="border-right: thin solid black;">Item</th>
                                                <th style="border-right: thin solid black;">Add</th>
                                            </tr>
                                            <tr style="border-bottom: thin solid black;" ng-repeat="dispenser in group_control_lists track by $index">
                                                <td style="border-right: thin solid black;">{{dispenser.code}}.</td>
                                                <td style="border-right: thin solid black;">{{dispenser.item_name}}
                                                    <hr />
                                                    <table>
                                                        <tr style="border-bottom: thin dotted black;" ng-repeat="mapping in groups"  ng-if="dispenser.code==mapping.code">
                                                            <td style="border-right: thin dotted black;" ng-if="dispenser.code==mapping.code">
                                                                {{mapping.item_name}}.
                                                            </td>
                                                            <td style="">
                                                                <button type="button" class="btn btn-default" style="width:100%;font-family:book antiqua;font-weight:bold;font-size:16px" ng-click="removeFromDispensedGroupMapping($index,mapping)">X</button>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                                <td style="border-right: thin solid black;">
                                                    <form>
                                                        <md-input-container class="md-block   col-md-12 col-sm-6">
                                                            <label> Search Item </label>
                                                            <input type="text"  class="md-block" typeahead-on-select="addDispedGroup(mappings.selectedItem)" ng-model="mappings.selectedItem" uib-typeahead ="item as item.item_name  for item in showSearch($viewValue)  | filter:$viewValue">
                                                        </md-input-container>
                                                        <span style="font-style:italic;background-color:light-gray" ng-repeat="item in mappings.items track by $index" ng-click="removeDispensedGroup($index)">{{item.item_name}}<br ></span>
                                                        <button type="button" class="btn btn-default" style="width:100%;font-family:book antiqua;font-weight:bold;font-size:16px" ng-click="saveDispensedGroup(dispenser.code,mappings.items)">
                                                            SAVE</button>
                                                    </form>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </md-tab>

                            </md-tabs>
                        </vertical-tab-pane>

                        <vertical-tab-pane title="TRANSACTION TYPES">

                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


                            <div class="wrapper wrapper-content animated fadeInRight">
                                <div class="row">
                                    <div class="col-md-12 form-box">
                                        <form  >
                                            <fieldset>
                                                <div class=" ">
                                                    <div class=" ">
                                                        <h3><span><i class="fa fa-gear" aria-hidden="true"></i></span>TRANSACTION TYPES</h3>

                                                    </div>
                                                </div>
                                                <div class=" ">




                                                    <div class="row col-md-12">

                                                        <md-input-container class="md-block col-md-4 col-sm-4">

                                                            <input type="text"   placeholder="Enter  Transaction Type name" ng-model="transtype.transaction_type" required>
                                                            <p></p>


                                                        </md-input-container>
                                                        <md-input-container class="md-block col-md-4 col-sm-4">
                                                            <label>    Adjustment Matching Type</label>
                                                            <md-select ng-model="transtype.code" class="form md-block">
                                                                <md-option  ></md-option>
                                                                <md-option value={{emlis_code.code}} ng-repeat="emlis_code in elmistranstypes">{{ emlis_code.description }}</md-option>

                                                            </md-select>


                                                        </md-input-container>
                                                        <md-input-container class="md-block col-md-4 col-sm-4">
                                                            <label> Adjustment Type</label>
                                                            <md-select ng-model="transtype.adjustment"  >
                                                                <md-option selected disabled value>----options----</md-option>
                                                                <md-option ng-value="'plus'">Positive Adjustment</md-option>
                                                                <md-option ng-value="'minus'">Negative Adjustment</md-option>
                                                            </md-select>



                                                        </md-input-container>

                                                        <div class="form-group col-md-8 col-sm-4">

                                                            <md-button class="md-raised md-primary" ng-click="pharmacy_transaction_type_registration(transtype)" >Register</md-button>


                                                        </div>


                                                    </div>

                                                    <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp"  >


                                                        <thead>

                                                        <tr>
                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                No

                                                            </td>

                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                Transaction Type



                                                            </td>

                                                            <td class="mdl-data-table__cell--non-numeric"   >

                                                                Elmis Adjustment Matching



                                                            </td>

                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                Edit

                                                            </td> <td class="mdl-data-table__cell--non-numeric" ng-if="!e">

                                                            X

                                                        </td>
                                                        </tr>
                                                        </thead>

                                                        <tbody>
                                                        <tr ng-repeat="transtype in transtypes | filter:search track by $index">
                                                            <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>

                                                            <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ transtype.transaction_type }}</b>
                                                                <h3 ng-if="e">

                                                                    <div class="form-group">
                                                                        <input type="text" class="form-control" placeholder=" transaction_type" ng-model="transtype.transaction_type">
                                                                    </div>


                                                                </h3>
                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ transtype.description }}</b>
                                                                <h3 ng-if="e">

                                                                    <md-select ng-model="transtype.code" class="form md-block">
                                                                        <md-option  ></md-option>
                                                                        <md-option value={{emlis_code.code}} ng-repeat="emlis_code in elmistranstypes">{{ emlis_code.description }}</md-option>

                                                                    </md-select>


                                                                </h3>
                                                            </td>


                                                            <td ng-if="e">
                                                                <h3 >

                                                                    <div class="form-group">


                                                                        <md-button class="md-raised md-primary" data-toggle="tooltip" title="Click to Update This Record" ng-click="pharmacy_transaction_type_update(transtype)">Update</md-button>

                                                                    </div>
                                                                </h3>
                                                                <!--<button class="btn btn-default" ng-click="edit(region.id)">Edit</button>-->




                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric">
                                                                <input type="checkbox" class="btn btn-info" ng-model="e">Edit
                                                            </td><td  ng-if="!e">
                                                            <button class="alert-danger" data-toggle="tooltip" title="Click to Delete from List" ng-click="pharmacy_transaction_type_delete(transtype.id)">Delete</button>
                                                        </td>
                                                            <!--<td class="mdl-data-table__cell--non-numeric">{{ region.tastiness }}</td>-->
                                                        </tr>
                                                        </tbody>

                                                    </table>
                                                </div>
                                            </fieldset>
                                        </form>
                                    </div>
                                </div>
                            </div>



                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



                        </vertical-tab-pane>
                        <vertical-tab-pane title="MARK P.O.S DISPENSING">

                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->
                            <table border="1" class="mdl-data-table__cell--non-numeric">
                                <tr ng-repeat="store in storesListToconfigure    | filter:search track by $index">
                                    <td class="mdl-data-table__cell--non-numeric" ng-if="store.store_type_id==4">{{ $index+1 }}</td>

                                    <td class="mdl-data-table__cell--non-numeric" ng-if="store.store_type_id==4">{{ store.store_name }}

                                    </td>
                                    <td ng-if="store.store_type_id==4">

                                        <button class= ''   title="Click to Mark This store for OPD sales Balance Check Point" ng-click="mark_pos_dispensing(store,1)">Mark</button>
                                        <button class= ''   title="Click to Unmark This store from OPD sales Balance Check Point" ng-click="mark_pos_dispensing(store,0)">UnMark</button>
                                    </td>
                                    <!--<td class="mdl-data-table__cell--non-numeric">{{ region.tastiness }}</td>-->
                                </tr>
                            </table>
                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


                        </vertical-tab-pane>
                        <vertical-tab-pane title="ELMIS CONFIGURATION" >
                            <button ng-click="PharmacyLists()" ng-if="!msdItems" > Click Load Data</button>
                            <input type="text"  ng-model="search" placeholder="Quick search">
                            <div style="overflow-x:scroll;max-width:960px;" ng-if="msdItems.length>0" >
                                <table class="mdl-data-table__cell--non-numeric" border="1" >
                                    <tr>
                                        <th class="mdl-data-table__cell--non-numeric">s/n</th>
                                        <th class="mdl-data-table__cell--non-numeric">ItemCode</th>
                                        <th class="mdl-data-table__cell--non-numeric">ItemName</th>
                                        <th class="mdl-data-table__cell--non-numeric">UoM</th>
                                        <th class="mdl-data-table__cell--non-numeric">Msd Catalog Product ?</th>
                                        <th class="mdl-data-table__cell--non-numeric">Item Program </th>
                                    </tr>
                                    <tr ng-repeat="msdItem in msdItems |filter:search track by $index">
                                        <th class="mdl-data-table__cell--non-numeric">{{$index+1}}</th>
                                        <!--<th class="mdl-data-table__cell&#45;&#45;non-numeric" ng-if="msdItem.item_code !=null">{{msdItem.item_code}}</th>-->
                                        <th class="mdl-data-table__cell--non-numeric"  >
                                            <input type="text" ng-model="msdItem.item_code"   id="{{msdItem.item_code1.replace(regex, '_')}}" class="md-block" placeholder="{{msdItem.item_code}}"  title="Item Code" ng-keyup="singleItemCodeUpdate(msdItem)"  />
                                            <input type="text"   id="status_{{msdItem.item_code.replace(regex, '_')}}" class="hidden" value="active" />

                                        </th>
                                        <th class="mdl-data-table__cell--non-numeric">{{msdItem.item_name}}</th>
                                        <th class="mdl-data-table__cell--non-numeric">
                                            <input type="text" ng-model="msdItem.unit_of_measure"  id="{{msdItem.item_id.replace(regex, '_')}}" class="md-block" placeholder="{{msdItem.unit_of_measure}}"  title="Enter UoM" ng-keyup="singleItemUomUpdate(msdItem)" />
                                            <input type="text"   id="status_{{msdItem.item_id.replace(regex, '_')}}" class="hidden" value="active" />

                                        </th>

                                        <th class="mdl-data-table__cell--non-numeric">
                                            <!-- <select type="text" ng-model="msdItem.msdp"  id="{{msdItem.item_code.replace(regex, '_')}}"   placeholder="{{msdItem.msd_product}}" ng-change="elmisProductProgramMapping(msdItem)" >
                                             <option selected  disabled  value="" > Choose</option>

                                             <option value=1>Yes</option>
                                             <option value=0>No</option>
                                         </select>--></th>
                                        <th class="mdl-data-table__cell--non-numeric">

                                            <select type="text" ng-model="msdItem.msdp"  id="{{msdItem.item_code.replace(regex, '_')}}"   placeholder="{{msdItem.msd_product}}" ng-change="elmisProductProgramMapping(msdItem)" >
                                                <option selected  disabled  value="" > Choose</option>

                                                <option  ></option>
                                                <option  value="ILS">ILS</option>
                                                <option  value="ARV">ARV</option>
                                                <option  value="LAB">LAB</option>
                                                <option  value="TB">TB</option>
                                            </select></th>
                                    </tr>

                                </table>
                            </div>
                        </vertical-tab-pane>

                    </vertical-tabs>



                </md-tab>
                <md-tab label="SETTING SUMMARY">
                    <vertical-tabs>
                        <vertical-tab-pane title="STORES LIST">
                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                            <div >
                                <div class="row">
                                    <div class="col-md-12 form-box">



                                        <div class="form-bottom">

                                            <b ng-if="!stores" >No store registered yet....</b>
                                            <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%"  ng-if="stores"  >


                                                <thead style="background-color: beige">

                                                <tr>
                                                    <td class="mdl-data-table__cell--non-numeric">

                                                        No

                                                    </td>

                                                    <td class="mdl-data-table__cell--non-numeric" ng-click="sort('store_name')">

                                                        Store Name



                                                    </td>
                                                    <td class="mdl-data-table__cell--non-numeric" ng-click="sort('store_type_name')">

                                                        Store Type




                                                    </td>

                                                    <td class="mdl-data-table__cell--non-numeric">

                                                        Edit

                                                    </td> <td class="mdl-data-table__cell--non-numeric"  ng-if="!e">

                                                    X

                                                </td>
                                                </tr>
                                                </thead>

                                                <tbody>
                                                <tr ng-repeat="store in storesListToconfigure    | filter:search track by $index">
                                                    <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>

                                                    <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ store.store_name }}</b>
                                                        <h3 ng-if="e">

                                                            <md-input-container class="md-block">
                                                                <input type="text"  class="md-block" placeholder=" Store Name" ng-model="store.store_name">
                                                            </md-input-container>


                                                        </h3>
                                                    </td>
                                                    <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ store.store_type_name }}</b>
                                                        <h3 ng-if="e">

                                                            <md-select ng-model="store.store_type_id" class="form md-block">
                                                                <md-option ng-value={{ store.store_type_id }} ng-repeat="store_type in storetypes">{{ store.store_type_name }}</md-option>
                                                                <md-option ng-value="store_type.id" ng-repeat="store_type in storetypes">{{store_type.store_type_name}}</md-option>
                                                            </md-select>


                                                        </h3>
                                                    </td>



                                                    <td ng-if="e">
                                                        <h3 >

                                                            <div class="md-block">


                                                                <md-button class="md-raised md-primary" data-toggle="tooltip" title="Click to Update This Record" ng-click="store_update(store)">Update</md-button>

                                                            </div>
                                                        </h3>
                                                        <!--<md-button class="btn btn-default" ng-click="edit(region.id)">Edit</md-button>-->




                                                    </td>
                                                    <td class="mdl-data-table__cell--non-numeric">
                                                        <input type="checkbox" class="btn btn-info" ng-model="e">Edit
                                                    </td><td  ng-if="!e">
                                                    <md-button class="alert-danger" data-toggle="tooltip" title="Click to Delete from List" ng-click="store_delete(store.id)">Delete</md-button>
                                                </td>
                                                    <!--<td class="mdl-data-table__cell--non-numeric">{{ region.tastiness }}</td>-->
                                                </tr>
                                                </tbody>

                                            </table>


                                        </div>
                                        </fieldset>
                                        </form>
                                    </div>
                                </div>
                            </div>


                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


                        </vertical-tab-pane>
                        <vertical-tab-pane title="VENDORS LIST">
                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                            <div >
                                <div class="row">
                                    <div class="col-md-12 form-box">



                                        <div class="form-bottom">
                                            <b ng-if="!vendors"> No Vendor registerd yet..</b>
                                            <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" ng-if="vendors" >


                                                <thead style="background-color: beige">

                                                <tr>
                                                    <td class="mdl-data-table__cell--non-numeric">

                                                        No

                                                    </td>

                                                    <td class="mdl-data-table__cell--non-numeric">

                                                        Vendor Code



                                                    </td>
                                                    <td ng-click="sort('vendor_name')">

                                                        Vendor Name



                                                    </td>
                                                    <td class="mdl-data-table__cell--non-numeric">

                                                        Vendor Address



                                                    </td>
                                                    <td class="mdl-data-table__cell--non-numeric">

                                                        Vendor Phone Number



                                                    </td>
                                                    <td class="mdl-data-table__cell--non-numeric">

                                                        Contact Person  Number



                                                    </td>

                                                    <td class="mdl-data-table__cell--non-numeric">

                                                        Edit

                                                    </td> <td  ng-if="!e">

                                                    X

                                                </td>
                                                </tr>
                                                </thead>

                                                <tbody>
                                                <tr ng-repeat="vendor in vendors     | filter:search track by $index">
                                                    <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>

                                                    <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ vendor.vendor_code }}</b>
                                                        <h3 ng-if="e">

                                                            <md-input-container class="md-block">
                                                                <input type="text" disabled class="md-block" placeholder=" Vendor Code" ng-model="vendor.vendor_code">
                                        </div>


                                        </h3>
                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ vendor.vendor_name }}</b>
                                            <h3 ng-if="e">

                                                <md-input-container class="md-block">
                                                    <input type="text" class="md-block" placeholder=" Vendor Name" ng-model="vendor.vendor_name">
                                                </md-input-container>


                                            </h3>
                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ vendor.vendor_address }}</b>
                                            <h3 ng-if="e">

                                                <md-input-container class="md-block">
                                                    <input type="text" class="md-block" placeholder=" Vendor address" ng-model="vendor.vendor_address">
                                                </md-input-container>


                                            </h3>
                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ vendor.vendor_phone_number }}</b>
                                            <h3 ng-if="e">

                                                <md-input-container class="md-block">
                                                    <input type="text" class="md-block" placeholder=" Vendor phone number" ng-model="vendor.vendor_phone_number">
                                                </md-input-container>


                                            </h3>
                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ vendor.vendor_contact_person }}</b>
                                            <h3 ng-if="e">

                                                <md-input-container class="md-block">
                                                    <input type="text" class="md-block" placeholder=" vendor contact person" ng-model="vendor.vendor_contact_person">
                                                </md-input-container>


                                            </h3>
                                        </td>


                                        <td class="mdl-data-table__cell--non-numeric" ng-if="e">
                                            <h3 >

                                                <div class="md-block">


                                                    <md-button class="md-raised md-primary" data-toggle="tooltip" title="Click to Update This Record" ng-click="vendor_update(vendor)">Update</md-button>

                                                </div>
                                            </h3>
                                            <!--<md-button class="btn btn-default" ng-click="edit(region.id)">Edit</md-button>-->




                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric">
                                            <input type="checkbox" class="btn btn-info" ng-model="e">Edit
                                        </td><td class="mdl-data-table__cell--non-numeric"  ng-if="!e">
                                        <md-button class="alert-danger" data-toggle="tooltip" title="Click to Delete from List" ng-click="vendor_delete(vendor.id)">Delete</md-button>
                                    </td>
                                        <!--<td class="mdl-data-table__cell--non-numeric">{{ region.tastiness }}</td>-->
                                        </tr>
                                        </tbody>

                                        </table>


                                    </div>
                                    </fieldset>
                                    </form>
                                </div>
                            </div>
                            </div>


                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


                        </vertical-tab-pane>

                        <vertical-tab-pane title="INVOICES LIST">

                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                            <div >
                                <div class="row">
                                    <div class="col-md-12 form-box">
                                        <form  >
                                            <fieldset>

                                                <div class="form-botton">

                                                    <b ng-if="!invoices" class="col-lg-12 md-raised md-primary">No invoice registered yet..</b>
                                                    <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" ng-if="invoices"  >


                                                        <thead style="background-color: beige">

                                                        <tr>
                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                No

                                                            </td>

                                                            <td ng-click="sort('invoice_number')">

                                                                Invoice Number



                                                            </td>
                                                            <td ng-click="sort('vendor_code')">

                                                                Vendor Code



                                                            </td>
                                                            <td ng-click="sort('vendor_name')">

                                                                Vendor Name



                                                            </td>

                                                            <td class="mdl-data-table__cell--non-numeric">

                                                                Edit

                                                            </td> <td  ng-if="!e">

                                                            X

                                                        </td>
                                                        </tr>
                                                        </thead>

                                                        <tbody>
                                                        <tr ng-repeat="invoice in invoices    | filter:search track by $index">
                                                            <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>

                                                            <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ invoice.invoice_number }}</b>
                                                                <h3 ng-if="e" class="no-print">

                                                                    <md-input-container class="md-block">
                                                                        <input type="text"  class="md-block" placeholder=" invoice Number" ng-model="invoice.invoice_number">
                                                                    </md-input-container>


                                                                </h3>
                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ invoice.vendor_code }}</b>
                                                                <h3 ng-if="e" class="no-print">

                                                                    {{ invoice.vendor_code}}


                                                                </h3>
                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ invoice.vendor_name }}</b>
                                                                <h3 ng-if="e" class="no-print">

                                                                    {{ invoice.vendor_name }}

                                                                </h3>
                                                            </td>



                                                            <td ng-if="e">
                                                                <h3 class="no-print" >

                                                                    <div class="md-block">


                                                                        <md-button class="md-raised md-primary" data-toggle="tooltip" title="Click to Update This Record" ng-click="invoice_update(invoice)">Update</md-button>

                                                                    </div>
                                                                </h3>
                                                                <!--<md-button class="btn btn-default" ng-click="edit(region.id)">Edit</md-button>-->




                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric">
                                                                <input type="checkbox" class="btn btn-info no-print" ng-model="e">Edit
                                                            </td><td  ng-if="!e" >
                                                            <md-button class="alert-danger no-print" data-toggle="tooltip" title="Click to Delete from List" ng-click="invoice_delete(invoice.id)">Delete</md-button>
                                                        </td>
                                                            <!--<td class="mdl-data-table__cell--non-numeric">{{ region.tastiness }}</td>-->
                                                        </tr>
                                                        </tbody>

                                                    </table>


                                                </div>
                                            </fieldset>
                                        </form>
                                    </div>
                                </div>
                            </div>


                            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


                        </vertical-tab-pane>



                    </vertical-tabs>

                </md-tab>



</md-tabs>

<script>
    $(document).ready(function () {
        $('input.number').keyup(function(event) {
            // skip for arrow keys
            if(event.which >= 37 && event.which <= 40) return;

            // format number
            $(this).val(function(index, value) {
                return value
                    .replace(/\D/g, "")
                    //.replace(/\B(?=(\d{3})+(?!\d))/g, ",")
                    ;
            });
        });

    });
    function money(field, event){
        // format number
        $(field).val(function(index, value) {
            return value
                .replace(/\D/g, "")
                .replace(/\B(?=(\d{3})+(?!\d))/g, ",")
                ;
        });
    }

    function flag(element){
        $('#tr_'+element.id.substring(4)).css('border-color','red');
    }
</script>